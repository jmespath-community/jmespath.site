<!doctype html><html><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><title>JMESPath</title><link href=https://unpkg.com/sanitize.css rel=stylesheet><link rel=stylesheet href=https://jmespath.site/main/main.min.6e37f92ea129dfb8ac2ae07fbbcb6c818d56949be122a248177c60771215ada4.css integrity="sha256-bjf5LqEp37isKuB/u8tsgY1WlJvhIqJIF3xgdxIVraQ="><link rel=stylesheet href=https://jmespath.site/main/demo.min.1eff893cd3b6264167cd7b59682cf6bda28ccfad8a2ef8ab923d12aa5f6aaf6f.css integrity="sha256-Hv+JPNO2JkFnzXtZaCz2vaKMz62KLvirkj0Sql9qr28="><script type=text/javascript src=https://jmespath.blob.core.windows.net/lib/v1.1.3/jmespath.umd.min.js integrity=sha384-KzTAbBrAddBOX0gCk9cZNsYH1n5ot1g+hVqmZs1FNN7Qk2xs2orwcMVsnzvyP+8I crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://jmespath.site/main/demo.340f4852640bc4f5848e413b1bb1a8effb133ca876334acd26cff69285728722.js integrity="sha256-NA9IUmQLxPWEjkE7G7Go7/sTPKh2M0rNJs/2koVyhyI="></script></head><body><header><figure class=logo><img src=logo.svg><figcaption>A Query Language for JSON</figcaption></figure></header><main><nav class=main><script>function _init_version(){fetch("/VERSIONS").then(e=>e.text()).then(e=>{const t=document.getElementById("version"),n=e.split(`
`).filter(e=>e);for(const s of n.reverse()){const e=s.split(" ")[0];t.add(new Option(e,`/${e}`))}t.value="/"+window.location.pathname.replace(/^\/*/,"").split("/",1)[0]})}document.readyState==="complete"?_init_version():window.addEventListener("load",_init_version)</script><select id=version oninput="window.location.href=`${event.currentTarget.value}`"><option value=/main>Latest</option></select><ol><li><a href=#tutorial>Tutorial</a></li><li><a href=#examples>Examples</a></li><li><a href=#libraries>Libraries</a></li><li><a href=#specification>Syntax</a></li><li><a href=#functions>Functions</a></li></ol></nav><article id=intro><section class=try-it><h1 id=try-it-out>Try it Out!</h1><p>Enter an expression in the search box to see JMESPath in action.</p><p>The expression is evaluated against the JSON data and the result is shown in the result pane.</p><p>To learn more about JMESPath, check out the <a href=#tutorial>Tutorial</a>
and <a href=#examples>Examples</a></p><p>Have questions? <a href=https://gitter.im/jmespath/chat target=_blank rel=noopener>Come chat with us</a></p><p>Have a feature request? <a href=https://github.com/jmespath-community/jmespath.spec/discussions target=_blank rel=noopener>Contribute</a></p></section><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="locations[?state == 'WA'].name | sort(@) | {WashingtonCities: join(', ', @)}"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;locations&#34;: [
    {&#34;name&#34;: &#34;Seattle&#34;, &#34;state&#34;: &#34;WA&#34;},
    {&#34;name&#34;: &#34;New York&#34;, &#34;state&#34;: &#34;NY&#34;},
    {&#34;name&#34;: &#34;Bellevue&#34;, &#34;state&#34;: &#34;WA&#34;},
    {&#34;name&#34;: &#34;Olympia&#34;, &#34;state&#34;: &#34;WA&#34;}
  ]
}</textarea>
<textarea class=result readonly>{
  &#34;WashingtonCities&#34;: &#34;Bellevue, Olympia, Seattle&#34;
}</textarea></div><section><h1 id=complete-abnf-specification>Complete ABNF Specification</h1><p>The JMESPath language is described in an ABNF grammar with a complete specification. This ensures that the language
syntax is precisely defined.</p></section><section><h1 id=compliance-test-suite>Compliance Test Suite</h1><p>JMESPath has a full suite of data driven testcases. This ensures parity for multiple libraries, and makes it easy for
developers to implement JMESPath in their language of choice.</p></section><section><h1 id=libraries-in-multiple-languages>Libraries in Multiple Languages</h1><p>Each JMESPath library passes a complete suite of compliance tests to ensure they work as intended. There are libraries
in multiple languages including python, php, javascript and lua.</p></section></article><article id=tutorial><h1>Tutorial</h1><nav id=TableOfContents><ul><li><a href=#wiki-basic-expressions>Basic Expressions</a></li><li><a href=#wiki-slicing>Slicing</a></li><li><a href=#wiki-projections>Projections</a><ul><li><a href=#wiki-list-and-slice-projections>List and Slice Projections</a></li><li><a href=#wiki-object-projections>Object Projections</a></li><li><a href=#wiki-flatten-projections>Flatten Projections</a></li><li><a href=#wiki-filter-projections>Filter Projections</a></li></ul></li><li><a href=#wiki-pipe-expressions>Pipe Expressions</a></li><li><a href=#wiki-multiselect>MultiSelect</a></li><li><a href=#wiki-functions>Functions</a></li><li><a href=#wiki-next-steps>Next Steps</a></li></ul></nav><p>JMESPath is a query language for JSON. You can extract and transform elements from a JSON
document. The examples below are interactive. You can change the
JMESPath expressions and see the results update automatically.</p><p>For each of these examples, the JMESPath expression is applied to the
input JSON on the left, and the result of evaluating the JMESPath
expression is shown in the JSON document on the right-hand side.</p><h1 id=wiki-basic-expressions>Basic Expressions</h1><p>The simplest JMESPath expression is an <code>identifier</code>, which selects a key in an JSON object:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=a></input>
<textarea class=data rows=10 oninput=demoInput(event)>{&#34;a&#34;: &#34;foo&#34;, &#34;b&#34;: &#34;bar&#34;, &#34;c&#34;: &#34;baz&#34;}</textarea>
<textarea class=result readonly>&#34;foo&#34;</textarea></div><p>Try changing the expression above to <code>b</code>, and <code>c</code> and note the updated
result. Also note that if you refer to a key that does not exist, a
value of <code>null</code> (or the language equivalent of <code>null</code>) is returned.</p><p>You can use a <code>subexpression</code> to return to nested values in a JSON object:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=a.b.c.d></input>
<textarea class=data rows=10 oninput=demoInput(event)>{&#34;a&#34;: {&#34;b&#34;: {&#34;c&#34;: {&#34;d&#34;: &#34;value&#34;}}}}</textarea>
<textarea class=result readonly>&#34;value&#34;</textarea></div><p>If you refer to a key that does not exist, a value of <code>null</code> is
returned. Attempting to subsequently access identifiers will continue to
return a value of <code>null</code>. Try changing the expression to <code>b.c.d.e</code>
above.</p><p><code>Index Expressions</code> allow you to select a specific element in a list. It should look similar
to array access in common programming languages. Indexing is 0 based.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[1]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[&#34;a&#34;, &#34;b&#34;, &#34;c&#34;, &#34;d&#34;, &#34;e&#34;, &#34;f&#34;]</textarea>
<textarea class=result readonly>&#34;b&#34;</textarea></div><p>If you specify an index that&rsquo;s larger than the list, a value of <code>null</code>
is returned. You can also use negative indexing to index from the end of
the list. <code>[-1]</code> refers to the last element in the list, <code>[-2]</code> refers
to the penultimate element. Try it out in the example above.</p><p>You can combine identifiers, sub expressions, and index expressions to
access JSON elements.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=a.b.c[0].d[1][0]></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;a&#34;: {
    &#34;b&#34;: {
      &#34;c&#34;: [
        {
          &#34;d&#34;: [ 0, [ 1, 2 ] ]
        },
        {
          &#34;d&#34;: [ 3, 4 ]
        }
      ]
    }
  }
}</textarea>
<textarea class=result readonly>1</textarea></div><h1 id=wiki-slicing>Slicing</h1><p>Slices allow you to select a contiguous subset of an array. If you&rsquo;ve
ever used slicing in python, then you already know how to use JMESPath
slices. In its simplest form, you can specify the starting index and the
ending index. The ending index is the first index which you do <em>not</em>
want included in the slice. Let&rsquo;s take a look at some examples. First,
given an array of integers from 0 to 9, let&rsquo;s select the first half of
the array:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[0:5]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</textarea>
<textarea class=result readonly>[
  0, 1, 2, 3, 4
]</textarea></div><p>This slice result contains the elements 0, 1, 2, 3, and 4. The element
at index 5 is not included. If we want to select the second half of the
array, we can use this expression:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[5:10]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</textarea>
<textarea class=result readonly>[
  5, 6, 7, 8, 9
]</textarea></div><p>The two example above can be shortened. If the <code>start</code> or <code>stop</code> value
is omitted it is assumed to be the start or the end of the array. For
example:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[:5]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</textarea>
<textarea class=result readonly>[
  0, 1, 2, 3, 4
]</textarea></div><p>Try modifying the example above to only include the last half of the
array elements without specifying the end value of <code>10</code>.</p><p>The general form of a slice is <code>[start:stop:step]</code>. So far we&rsquo;ve looked
at the <code>[start:stop]</code> form. By default, the <code>step</code> value is <code>1</code>, which
means to include every element in the range specified by the <code>start</code> and
<code>stop</code> value. However, we can use the step value to skip over elements.
For example, to select only the even elements from the array.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[::2]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</textarea>
<textarea class=result readonly>[
  0, 2, 4, 6, 8
]</textarea></div><p>Also note in this example we&rsquo;re omitting the <code>start</code> as well as the
<code>stop</code> value, which means to use <code>0</code> for the <code>start</code> value, and <code>10</code> for
the <code>stop</code> value. In this example, the expression <code>[::2]</code> is equivalent
to <code>[0:10:2]</code>.</p><p>The last thing to know about slices is that just like indexing a single
value, all the values can be negative. If the <code>step</code> value is negative,
then the slice is created in reverse order. For example:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[::-1]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</textarea>
<textarea class=result readonly>[
  9, 8, 7, 6, 5, 4, 3, 2, 1, 0
]</textarea></div><p>The above expression creates a slice but in reverse order.</p><p>If you want all the details about how slices work, check out the
<a href=https://jmespath.site/#spec-slices target=_blank rel=noopener><code>slices</code></a>
in the specification.</p><h1 id=wiki-projections>Projections</h1><p>Projections are one of the key features of JMESPath. It allows you to
apply an expression to a collection of elements. There are five kinds of
projections:</p><ul><li>List Projections</li><li>Slice Projections</li><li>Object Projections</li><li>Flatten Projections</li><li>Filter Projections</li></ul><h2 id=wiki-list-and-slice-projections>List and Slice Projections</h2><p>A <code>wildcard expression</code>
creates a list projection, which is a projection over a JSON array. This
is best illustrated with an example. Let&rsquo;s say we have a JSON document
describing a people, and each array element is a JSON object that has a
<code>first</code>, <code>last</code>, and <code>age</code> key. Suppose we wanted a list of all the
first names in our list.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=people[*].first></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;first&#34;: &#34;James&#34;,
      &#34;last&#34;: &#34;d&#34;
    },
    {
      &#34;first&#34;: &#34;Jacob&#34;,
      &#34;last&#34;: &#34;e&#34;
    },
    {
      &#34;first&#34;: &#34;Jayden&#34;,
      &#34;last&#34;: &#34;f&#34;
    },
    {
      &#34;missing&#34;: &#34;different&#34;
    }
  ],
  &#34;foo&#34;: {
    &#34;bar&#34;: &#34;baz&#34;
  }
}</textarea>
<textarea class=result readonly>[
  &#34;James&#34;, &#34;Jacob&#34;, &#34;Jayden&#34;
]</textarea></div><p>In the example above, the <code>first</code> expression, which is just an
identifier, is applied to each element in the <code>people</code> array. The
results are collected into a JSON array and returned as the result of
the expression. The expression can be more complex than a basic
<code>identifier</code>. For example, the expression <code>foo[*].bar.baz[0]</code> would
project the <code>bar.baz[0]</code> expression to each element in the <code>foo</code> array.</p><p>There&rsquo;s a few things to keep in mind when working with projections.
These are discussed in more detail in the [<code>wildcards</code>] section
of the spec, but the main points are:</p><ul><li>Projections are evaluated as two steps. The left-hand side (LHS)
creates a JSON array of initial values. The right-hand side (RHS) of
a projection is the expression to project for each element in the
JSON array created by the left-hand side. Each projection type has
slightly different semantics when evaluating either the left-hand
side and/or the right-hand side.</li><li>If the result of the expression projected onto an individual array
element is <code>null</code>, then that value is omitted from the collected set
of results.</li><li>You can stop a projection with a Pipe Expression (discussed later).</li><li>A list projection is only valid for a JSON array. If the value is
not a list, then the result of the expression is <code>null</code>.</li></ul><p>You can try this out in the demo above. Notice how <code>people[*].first</code>
only included three elements, even though the people array has four
elements. This is because the last element, <code>{"missing": "different"}</code>
evaluates to <code>null</code> when the expression <code>first</code> is applied, and <code>null</code>
values are not added to the collected result array. If you try the
expression <code>foo[*].bar</code> you&rsquo;ll see a result of <code>null</code>, because the
value associated with the <code>foo</code> key is a JSON object, not an array, and
a list projection is only defined for JSON arrays.</p><p>Slice projections are almost identical to a list projection, with the
exception that the left-hand side is the result of evaluating the slice,
which may not include all the elements in the original list:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=people[:2].first></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;first&#34;: &#34;James&#34;,
      &#34;last&#34;: &#34;d&#34;
    },
    {
      &#34;first&#34;: &#34;Jacob&#34;,
      &#34;last&#34;: &#34;e&#34;
    },
    {
      &#34;first&#34;: &#34;Jayden&#34;,
      &#34;last&#34;: &#34;f&#34;
    },
    {
      &#34;missing&#34;: &#34;different&#34;
    }
  ],
  &#34;foo&#34;: {
    &#34;bar&#34;: &#34;baz&#34;
  }
}</textarea>
<textarea class=result readonly>[
  &#34;James&#34;, &#34;Jacob&#34;
]</textarea></div><h2 id=wiki-object-projections>Object Projections</h2><p>Whereas a list projection is defined for a JSON array, an object
projection is defined for a JSON object. You can create an object
projection using the <code>*</code> syntax. This will create a list of the values
of the JSON object, and project the right-hand side of the projection
onto the list of values.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=ops.*.numArgs></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;ops&#34;: {
    &#34;functionA&#34;: {
      &#34;numArgs&#34;: 2
    },
    &#34;functionB&#34;: {
      &#34;numArgs&#34;: 3
    },
    &#34;functionC&#34;: {
      &#34;variadic&#34;: true
    }
  }
}</textarea>
<textarea class=result readonly>[
  2, 3
]</textarea></div><p>In the example above the <code>*</code> creates a JSON array of the values
associated with the <code>ops</code> JSON object. The RHS of the projection,
<code>numArgs</code>, is then applied to the JSON array, resulting in the final
array of <code>[2, 3]</code>. Below is a sample walk-through of how an
implementation could <em>potentially</em> implement evaluating an object
projection. First, the object projection can be broken down into its two
components, the left-hand side (LHS) and its right-hand side (RHS):</p><ul><li><strong>LHS</strong>: <code>ops</code></li><li><strong>RHS</strong>: <code>numArgs</code></li></ul><p>First, the LHS is evaluated to create the initial array to be projected:</p><pre><code>evaluate(ops, inputData) -&gt; [{&quot;numArgs&quot;: 2}, {&quot;numArgs&quot;: 3},
                             {&quot;variadic&quot;: True}]
</code></pre><p>Then the RHS is applied to each element in the array:</p><pre><code>evaluate(numArgs, {numArgs: 2}) -&gt; 2
evaluate(numArgs, {numArgs: 3}) -&gt; 3
evaluate(numArgs, {variadic: true}) -&gt; null
</code></pre><p>Any <code>null</code> values are not included in the final result, so the result of
the entire expression is therefore <code>[2, 3]</code>.</p><h2 id=wiki-flatten-projections>Flatten Projections</h2><p>More than one projection can be used in a JMESPath expression. In the
case of a List/Object projection, the structure of the original document
is preserved when creating projection within a projection. For example,
let&rsquo;s take the expression <code>reservations[*].instances[*].state</code>. This
expression is saying that the top level key <code>reservations</code> has an array
as a value. For each of those array elements, project the
<code>instances[*].state</code> expression. Within each list element, there&rsquo;s an
<code>instances</code> key which itself is a value, and we create a sub projection
for each each list element in the list. Here&rsquo;s an example of that:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=reservations[*].instances[*].state></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;reservations&#34;: [
    {
      &#34;instances&#34;: [
        {
          &#34;state&#34;: &#34;running&#34;
        },
        {
          &#34;state&#34;: &#34;stopped&#34;
        }
      ]
    },
    {
      &#34;instances&#34;: [
        {
          &#34;state&#34;: &#34;terminated&#34;
        },
        {
          &#34;state&#34;: &#34;running&#34;
        }
      ]
    }
  ]
}</textarea>
<textarea class=result readonly>[
  [
    &#34;running&#34;, &#34;stopped&#34;
  ], [
    &#34;terminated&#34;, &#34;running&#34;
  ]
]</textarea></div><p>The result of this expression is <code>[["running", "stopped"], ["terminated", "running"]]</code>, which is a list
of lists. The outer list is from the projection of <code>reservations[*]</code>,
and the inner list is a projection of <code>state</code> created from
<code>instances[*]</code>:</p><pre><code>1st       r0                         r1
2nd i0          i1             i0            i1
[[&quot;running&quot;, &quot;stopped&quot;], [&quot;terminated&quot;, &quot;running&quot;]]
</code></pre><p>What if we just want a list of all the states of our instances? We&rsquo;d
ideally like a result <code>["running", "stopped", "terminated", "running"]</code>.
In this situation, we don&rsquo;t care which reservation the instance
belonged to, we just want a list of states.</p><p>This is the problem that a <code>Flatten Projection</code> solves. To
get the desired result, you can use <code>[]</code> instead of <code>[*]</code> to flatten a
list: <code>reservations[].instances[].state</code>. Try changing <code>[*]</code> to <code>[]</code> in
the expression above and see how the result changes.</p><p>While the <code>flatten</code> spec goes into more detail, a simple rule of thumb to use for the flatten operator,
<code>[]</code>, is that:</p><ul><li>It flattens sublists into the parent list (not recursively, just one
level).</li><li>It creates a projection, so anything on the RHS of the flatten
projection is projected onto the newly created flattened list.</li></ul><p>You can also just use <code>[]</code> on its own to flatten a list:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=[]></input>
<textarea class=data rows=10 oninput=demoInput(event)>[[0, 1], 2, [3], 4, [5, [6, 7]]]</textarea>
<textarea class=result readonly>[
  0, 1, 2, 3, 4, 5, [
    6, 7
  ]
]</textarea></div><p>If you flattened the result of the expression again, <code>[][]</code>, you&rsquo;d then
get a result of <code>[0, 1, 2, 3, 4, 5, 6, 7]</code>. Try it out in the example
above.</p><h2 id=wiki-filter-projections>Filter Projections</h2><p>Up to this point we&rsquo;ve looked at:</p><ul><li>List/Slice projections</li><li>Object projections</li><li>Flatten projections</li></ul><p>Evaluating the RHS of a projection is a basic type of filter. If the
result of the expression evaluated against an individual element results
in <code>null</code>, then the element is excluded from the final result.</p><p>A filter projection allows you to filter the LHS of the projection
<em>before</em> evaluating the RHS of a projection.</p><p>For example, let&rsquo;s say we have a list of machines, each has a <code>name</code>
and a <code>state</code>. We&rsquo;d like the name of all machines that are running. In
pseudocode, this would be:</p><pre><code>result = []
foreach machine in inputData['machines']
  if machine['state'] == 'running'
    result.insert_at_end(machine['name'])
return result
</code></pre><p>A filter projection can be used to accomplish this:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="machines[?state=='running'].name"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;machines&#34;: [
    {
      &#34;name&#34;: &#34;a&#34;,
      &#34;state&#34;: &#34;running&#34;
    },
    {
      &#34;name&#34;: &#34;b&#34;,
      &#34;state&#34;: &#34;stopped&#34;
    },
    {
      &#34;name&#34;: &#34;b&#34;,
      &#34;state&#34;: &#34;running&#34;
    }
  ]
}</textarea>
<textarea class=result readonly>[
  &#34;a&#34;, &#34;b&#34;
]</textarea></div><p>Try changing <code>running</code> to <code>stopped</code> in the example above. You can also
remove the <code>.name</code> at the end of the expression if you just want the
entire JSON object of each machine that has the specified state.</p><p>A filter expression is defined for an array and has the general form
<code>LHS [? &lt;expression> &lt;comparator> &lt;expression>] RHS</code>. The
<code>filter expression &lt;filterexpressions></code>{.interpreted-text role=&ldquo;ref&rdquo;}
spec details exactly what comparators are available and how they work,
but the standard comparators are supported, i.e <code>==, !=, &lt;, &lt;=, >, >=</code>.</p><h1 id=wiki-pipe-expressions>Pipe Expressions</h1><p>Projections are an important concept in JMESPath. However, there are
times when projection semantics are <em>not</em> what you want. A common
scenario is when you want to operate of the <em>result</em> of a projection
rather than projecting an expression onto each element in the array. For
example, the expression <code>people[*].first</code> will give you an array
containing the first names of everyone in the people array. What if you
wanted the first element in that list? If you tried <code>people[*].first[0]</code>
that you just evaluate <code>first[0]</code> for each element in the people array,
and because indexing is not defined for strings, the final result would
be an empty array, <code>[]</code>. To accomplish the desired result, you can use a
pipe expression, <code>&lt;expression> | &lt;expression></code>, to indicate that a
projection must stop. This is shown in the example below:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[*].first | [0]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;first&#34;: &#34;James&#34;,
      &#34;last&#34;: &#34;d&#34;
    },
    {
      &#34;first&#34;: &#34;Jacob&#34;,
      &#34;last&#34;: &#34;e&#34;
    },
    {
      &#34;first&#34;: &#34;Jayden&#34;,
      &#34;last&#34;: &#34;f&#34;
    },
    {
      &#34;missing&#34;: &#34;different&#34;
    }
  ],
  &#34;foo&#34;: {
    &#34;bar&#34;: &#34;baz&#34;
  }
}</textarea>
<textarea class=result readonly>&#34;James&#34;</textarea></div><p>In the example above, the RHS of the list projection is <code>first</code>. When a
pipe is encountered, the result up to that point is passed to the RHS of
the pipe expression. The pipe expression is evaluated as:</p><pre><code>evaluate(people[*].first, inputData) -&gt; [&quot;James&quot;, &quot;Jacob&quot;, &quot;Jayden&quot;]
evaluate([0], [&quot;James&quot;, &quot;Jacob&quot;, &quot;Jayden&quot;]) -&gt; &quot;James&quot;
</code></pre><h1 id=wiki-multiselect>MultiSelect</h1><p>Up to this point, we&rsquo;ve looked at JMESPath expressions that help to
pare down a JSON document into just the elements you&rsquo;re interested in.
This next concept,
<a href=https://jmespath.site/#spec-multiselectlist target=_blank rel=noopener><code>multiselect lists</code></a>
and <a href=https://jmespath.site/#spec-multiselecthash target=_blank rel=noopener><code>multiselect hashes</code></a>
allow you to create JSON elements. This allows you to create elements
that don&rsquo;t exist in a JSON document. A multiselect list creates a list
and a multiselect hash creates a JSON object.</p><p>This is an example of a multiselect list:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[].[name, state.name]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;name&#34;: &#34;a&#34;,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;up&#34;
      }
    },
    {
      &#34;name&#34;: &#34;b&#34;,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;down&#34;
      }
    },
    {
      &#34;name&#34;: &#34;c&#34;,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;up&#34;
      }
    }
  ]
}</textarea>
<textarea class=result readonly>[
  [
    &#34;a&#34;, &#34;up&#34;
  ], [
    &#34;b&#34;, &#34;down&#34;
  ], [
    &#34;c&#34;, &#34;up&#34;
  ]
]</textarea></div><p>In the expression above, the <code>[name, state.name]</code> portion is a
multiselect list. It says to create a list of two element, the first
element is the result of evaluating the <code>name</code> expression against the
list element, and the second element is the result of evaluating
<code>state.name</code>. Each list element will therefore create a two element
list, and the final result of the entire expression is a list of two
element lists.</p><p>Unlike a projection, the result of the expression in always included,
even if the result is a null. If you change the above expression to
<code>people[].[foo, bar]</code> each two element list will be <code>[null, null]</code>.</p><p>A multiselect hash has the same basic idea as a multiselect list, except
it instead creates a hash instead of an array. Using the same example
above, if we instead wanted to create a two element hash that had two
keys, <code>Name</code> and <code>State</code>, we could use this:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[].{Name: name, State: state.name}"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;name&#34;: &#34;a&#34;,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;up&#34;
      }
    },
    {
      &#34;name&#34;: &#34;b&#34;,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;down&#34;
      }
    },
    {
      &#34;name&#34;: &#34;c&#34;,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;up&#34;
      }
    }
  ]
}</textarea>
<textarea class=result readonly>[
  {
    &#34;Name&#34;: &#34;a&#34;, &#34;State&#34;: &#34;up&#34;
  }, {
    &#34;Name&#34;: &#34;b&#34;, &#34;State&#34;: &#34;down&#34;
  }, {
    &#34;Name&#34;: &#34;c&#34;, &#34;State&#34;: &#34;up&#34;
  }
]</textarea></div><h1 id=wiki-functions>Functions</h1><p>JMESPath supports function expressions, for example:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value=length(people)></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;name&#34;: &#34;b&#34;,
      &#34;age&#34;: 30,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;up&#34;
      }
    },
    {
      &#34;name&#34;: &#34;a&#34;,
      &#34;age&#34;: 50,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;down&#34;
      }
    },
    {
      &#34;name&#34;: &#34;c&#34;,
      &#34;age&#34;: 40,
      &#34;state&#34;: {
        &#34;name&#34;: &#34;up&#34;
      }
    }
  ]
}</textarea>
<textarea class=result readonly>3</textarea></div><p><a href=https://jmespath.site/#functions target=_blank rel=noopener>Functions</a>
can be used to transform and filter data in powerful ways.</p><p>Below are a few examples of functions.</p><p>This example prints the name of the oldest person in the <code>people</code> array:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="max_by(people, &amp;age).name"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;name&#34;: &#34;b&#34;,
      &#34;age&#34;: 30
    },
    {
      &#34;name&#34;: &#34;a&#34;,
      &#34;age&#34;: 50
    },
    {
      &#34;name&#34;: &#34;c&#34;,
      &#34;age&#34;: 40
    }
  ]
}</textarea>
<textarea class=result readonly>&#34;a&#34;</textarea></div><p>Functions can also be combined with filter expressions. In the example
below, the JMESPath expressions finds all elements in <code>myarray</code> that
contains the string <code>foo</code>.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="myarray[?contains(@, 'foo') == [true]]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;myarray&#34;: [
    &#34;foo&#34;,
    &#34;foobar&#34;,
    &#34;barfoo&#34;,
    &#34;bar&#34;,
    &#34;baz&#34;,
    &#34;barbaz&#34;,
    &#34;barfoobaz&#34;
  ]
}</textarea>
<textarea class=result readonly>[]</textarea></div><p>The <code>@</code> character in the example above refers to the current element
being evaluated in <code>myarray</code>. The expression <code>contains(@, `foo`)</code>
will return <code>true</code> if the current element in the <code>myarray</code> array
contains the string <code>foo</code>.</p><p>While the <code>function expression</code> spec has all the details, there are a few things to keep in
mind when working with functions:</p><ul><li>Function arguments have types. If an argument for a function has the
wrong type, an <code>invalid-type</code> error will occur. There are functions
that can do type conversions (<code>to_string</code>, <code>to_number</code>) to help get
arguments converted to their proper type.</li><li>If a function is called with the wrong number of arguments, an
<code>invalid-arity</code> will occur.</li></ul><h1 id=wiki-next-steps>Next Steps</h1><p>We&rsquo;ve now seen an overview of the JMESPath language. The next things to
do are:</p><ul><li>See the <a href=https://jmespath.site/#examples target=_blank rel=noopener>examples</a>
. You&rsquo;ll see common
JMESPath expressions that go beyond the tutorial. You&rsquo;ll also see
you how to combine multiple features together in order to best
leverage JMESPath expressions.</li><li>To actually start using JMESPath, pick the language of your choice,
and check out the <a href=https://jmespath.site/#libraries target=_blank rel=noopener>libraries</a>
page for
more information on using JMESPath in the language of your choice.</li><li>Read the <a href=https://jmespath.site/#specification target=_blank rel=noopener>JMESPath Spec</a>
, which
has the official ABNF grammar and full details of the semantics of
the language.</li></ul></article><article id=examples><h1>Examples</h1><nav id=TableOfContents><ul><li><a href=#wiki-filters-and-multiselect-lists>Filters and Multiselect Lists</a></li><li><a href=#wiki-filters-and-multiselect-hashes>Filters and Multiselect Hashes</a></li><li><a href=#wiki-working-with-nested-data>Working with Nested Data</a><ul><li><a href=#wiki-filtering-and-selecting-nested-data>Filtering and Selecting Nested Data</a></li></ul></li><li><a href=#wiki-using-functions>Using Functions</a><ul><li><a href=#wiki-sort_by>sort_by</a></li></ul></li><li><a href=#wiki-pipes>Pipes</a><ul><li><a href=#wiki-main-page>Main Page</a></li></ul></li></ul></nav><h1 id=wiki-filters-and-multiselect-lists>Filters and Multiselect Lists</h1><p>One of the most common usage scenarios for JMESPath is being able to
take a complex JSON document and simplify it down. The main features at
work here are filters and multiselects. In this example below, we&rsquo;re
taking the array of people and, for any element with an age key whose
value is greater than 20, we&rsquo;re creating a sub list of the name and age
values.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[?age > [20]].[name, age]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;age&#34;: 20,
      &#34;other&#34;: &#34;foo&#34;,
      &#34;name&#34;: &#34;Bob&#34;
    },
    {
      &#34;age&#34;: 25,
      &#34;other&#34;: &#34;bar&#34;,
      &#34;name&#34;: &#34;Fred&#34;
    },
    {
      &#34;age&#34;: 30,
      &#34;other&#34;: &#34;baz&#34;,
      &#34;name&#34;: &#34;George&#34;
    }
  ]
}</textarea>
<textarea class=result readonly>[]</textarea></div><h1 id=wiki-filters-and-multiselect-hashes>Filters and Multiselect Hashes</h1><p>In the previous example we were taking an array of hashes, and
simplifying down to an array of two element arrays containing a name and
an age. We&rsquo;re also only including list elements where the <code>age</code> key is
greater than <code>20</code>. If instead we want to create the same hash structure
but only include the <code>age</code> and <code>name</code> key, we can instead say:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[?age > [20]].{name: name, age: age}"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;age&#34;: 20,
      &#34;other&#34;: &#34;foo&#34;,
      &#34;name&#34;: &#34;Bob&#34;
    },
    {
      &#34;age&#34;: 25,
      &#34;other&#34;: &#34;bar&#34;,
      &#34;name&#34;: &#34;Fred&#34;
    },
    {
      &#34;age&#34;: 30,
      &#34;other&#34;: &#34;baz&#34;,
      &#34;name&#34;: &#34;George&#34;
    }
  ]
}</textarea>
<textarea class=result readonly>[]</textarea></div><p>The last half of the above expression contains key value pairs which
have the general form <code>keyname: &lt;expression></code>. In the above expression
we&rsquo;re just using a field as an expression, but they can be more
advanced expressions. For example:</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[*].{name: name, tags: tags[0]}"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;age&#34;: 20,
      &#34;tags&#34;: [
        &#34;a&#34;,
        &#34;b&#34;,
        &#34;c&#34;
      ],
      &#34;name&#34;: &#34;Bob&#34;
    },
    {
      &#34;age&#34;: 25,
      &#34;tags&#34;: [
        &#34;d&#34;,
        &#34;e&#34;,
        &#34;f&#34;
      ],
      &#34;name&#34;: &#34;Fred&#34;
    },
    {
      &#34;age&#34;: 30,
      &#34;tags&#34;: [
        &#34;g&#34;,
        &#34;h&#34;,
        &#34;i&#34;
      ],
      &#34;name&#34;: &#34;George&#34;
    }
  ]
}</textarea>
<textarea class=result readonly>[
  {
    &#34;name&#34;: &#34;Bob&#34;, &#34;tags&#34;: &#34;a&#34;
  }, {
    &#34;name&#34;: &#34;Fred&#34;, &#34;tags&#34;: &#34;d&#34;
  }, {
    &#34;name&#34;: &#34;George&#34;, &#34;tags&#34;: &#34;g&#34;
  }
]</textarea></div><p>Notice in the above example instead of applying a filter expression
(<code>[? &lt;expr> ]</code>), we&rsquo;re selecting all array elements via <code>[*]</code>.</p><h1 id=wiki-working-with-nested-data>Working with Nested Data</h1><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="reservations[].instances[].[tags[?Key=='Name'].Values[] | [0], type, state.name]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;reservations&#34;: [
    {
      &#34;instances&#34;: [
        {
          &#34;type&#34;: &#34;small&#34;,
          &#34;state&#34;: {
            &#34;name&#34;: &#34;running&#34;
          },
          &#34;tags&#34;: [
            {
              &#34;Key&#34;: &#34;Name&#34;,
              &#34;Values&#34;: [
                &#34;Web&#34;
              ]
            },
            {
              &#34;Key&#34;: &#34;version&#34;,
              &#34;Values&#34;: [
                &#34;1&#34;
              ]
            }
          ]
        },
        {
          &#34;type&#34;: &#34;large&#34;,
          &#34;state&#34;: {
            &#34;name&#34;: &#34;stopped&#34;
          },
          &#34;tags&#34;: [
            {
              &#34;Key&#34;: &#34;Name&#34;,
              &#34;Values&#34;: [
                &#34;Web&#34;
              ]
            },
            {
              &#34;Key&#34;: &#34;version&#34;,
              &#34;Values&#34;: [
                &#34;1&#34;
              ]
            }
          ]
        }
      ]
    },
    {
      &#34;instances&#34;: [
        {
          &#34;type&#34;: &#34;medium&#34;,
          &#34;state&#34;: {
            &#34;name&#34;: &#34;terminated&#34;
          },
          &#34;tags&#34;: [
            {
              &#34;Key&#34;: &#34;Name&#34;,
              &#34;Values&#34;: [
                &#34;Web&#34;
              ]
            },
            {
              &#34;Key&#34;: &#34;version&#34;,
              &#34;Values&#34;: [
                &#34;1&#34;
              ]
            }
          ]
        },
        {
          &#34;type&#34;: &#34;xlarge&#34;,
          &#34;state&#34;: {
            &#34;name&#34;: &#34;running&#34;
          },
          &#34;tags&#34;: [
            {
              &#34;Key&#34;: &#34;Name&#34;,
              &#34;Values&#34;: [
                &#34;DB&#34;
              ]
            },
            {
              &#34;Key&#34;: &#34;version&#34;,
              &#34;Values&#34;: [
                &#34;1&#34;
              ]
            }
          ]
        }
      ]
    }
  ]
}</textarea>
<textarea class=result readonly>[
  [
    &#34;Web&#34;, &#34;small&#34;, &#34;running&#34;
  ], [
    &#34;Web&#34;, &#34;large&#34;, &#34;stopped&#34;
  ], [
    &#34;Web&#34;, &#34;medium&#34;, &#34;terminated&#34;
  ], [
    &#34;DB&#34;, &#34;xlarge&#34;, &#34;running&#34;
  ]
]</textarea></div><p>The above example combines several JMESPath features including the
<a href=https://jmespath.site/#spec-flatten target=_blank rel=noopener><code>flatten</code></a>
operator, multiselect lists, filters, and pipes.</p><p>The input data contains a top level key, &ldquo;reservations&rdquo;, which is a
list. Within each list, there is an &ldquo;instances&rdquo; key, which is also a
list.</p><p>The first thing we&rsquo;re doing here is creating a single list from
multiple lists of instances. By using the <a href=https://jmespath.site/#spec-flatten target=_blank rel=noopener><code>flatten</code></a>
we can take the two instances from the first list and the
two instances from the second list, and combine them into a single list.
Try changing the above expression to just <code>reservations[].instances[]</code>
to see what this flattened list looks like. Everything to the right of
the <code>reservations[].instances[]</code> is about taking the flattened list and
paring it down to contain only the data that we want. This expression is
taking each element in the original list and transforming it into a
three element sublist. The three elements are:</p><ul><li>In the <code>tags</code> list, select the first element in the flattened
<code>Values</code> list whose <code>Key</code> has a value of <code>Name</code>.</li><li>The <code>type</code></li><li>The <code>state.name</code> of each instance.</li></ul><p>The most interesting of those three expressions is the
<code>tags[?Key=='Name'].Values[] | [0]</code> part. Let&rsquo;s examine that further.</p><p>The first thing to notice is that we&rsquo;re filtering down the list
associated with the <code>tags</code> key. The <code>tags[?Key==`Name`]</code> tells us to
only include list elements that contain a <code>Key</code> whose value is <code>Name</code>.
From those filtered list elements we&rsquo;re going to take the <code>Values</code> key
and flatten the list. Finally, the <code>| [0]</code> will take the entire list and
extract the 0th element.</p><h2 id=wiki-filtering-and-selecting-nested-data>Filtering and Selecting Nested Data</h2><p>In this example, we&rsquo;re going to look at how you can filter nested
hashes.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="people[?general.id==`100`].general | [0]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;people&#34;: [
    {
      &#34;general&#34;: {
        &#34;id&#34;: 100,
        &#34;age&#34;: 20,
        &#34;other&#34;: &#34;foo&#34;,
        &#34;name&#34;: &#34;Bob&#34;
      },
      &#34;history&#34;: {
        &#34;first_login&#34;: &#34;2014-01-01&#34;,
        &#34;last_login&#34;: &#34;2014-01-02&#34;
      }
    },
    {
      &#34;general&#34;: {
        &#34;id&#34;: 101,
        &#34;age&#34;: 30,
        &#34;other&#34;: &#34;bar&#34;,
        &#34;name&#34;: &#34;Bill&#34;
      },
      &#34;history&#34;: {
        &#34;first_login&#34;: &#34;2014-05-01&#34;,
        &#34;last_login&#34;: &#34;2014-05-02&#34;
      }
    }
  ]
}</textarea>
<textarea class=result readonly>{
  &#34;age&#34;: 20, &#34;id&#34;: 100, &#34;name&#34;: &#34;Bob&#34;, &#34;other&#34;: &#34;foo&#34;
}</textarea></div><p>In this example we&rsquo;re searching through the <code>people</code> array. Each
element in this array contains a hash of two elements, and each value in
the hash is itself a hash. We&rsquo;re trying to retrieve the value of the
<code>general</code> key that contains an <code>id</code> key with a value of <code>100</code>.</p><p>If we just had the expression <code>people[?general.id==`100`]</code>, we&rsquo;d
have a result of:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;general&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>100</span>,
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;age&#34;</span>: <span style=color:#40a070>20</span>,
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;other&#34;</span>: <span style=color:#4070a0>&#34;foo&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;name&#34;</span>: <span style=color:#4070a0>&#34;Bob&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;history&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;first_login&#34;</span>: <span style=color:#4070a0>&#34;2014-01-01&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;last_login&#34;</span>: <span style=color:#4070a0>&#34;2014-01-02&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}]
</span></span></code></pre></div><p>Let&rsquo;s walk through how we arrived at this result. In words, the
<code>people[?general.id==`100`]</code> expression is saying &ldquo;for each element
in the people array, select the elements where the <code>general.id</code> equals
<code>100</code>&rdquo;. If we trace the execution of this filtering process we have:</p><pre><code># First element:
    {
      &quot;general&quot;: {
        &quot;id&quot;: 100,
        &quot;age&quot;: 20,
        &quot;other&quot;: &quot;foo&quot;,
        &quot;name&quot;: &quot;Bob&quot;
      },
      &quot;history&quot;: {
        &quot;first_login&quot;: &quot;2014-01-01&quot;,
        &quot;last_login&quot;: &quot;2014-01-02&quot;
      }
    },
# Applying the expression ``general.id`` to this hash::
    100
# Does 100==100?
    true
# Add this first element (in its entirety) to the result list.

# Second element:
    {
      &quot;general&quot;: {
        &quot;id&quot;: 101,
        &quot;age&quot;: 30,
        &quot;other&quot;: &quot;bar&quot;,
        &quot;name&quot;: &quot;Bill&quot;
      },
      &quot;history&quot;: {
        &quot;first_login&quot;: &quot;2014-05-01&quot;,
        &quot;last_login&quot;: &quot;2014-05-02&quot;
      }
    }

# Applying the expression ``general.id`` to this element::
    101
# Does 101==100?
    false
# Do not add this element to the results list.
# Result of this expression is a list containing the first element.
</code></pre><p>However, this still isn&rsquo;t the final value we want which is:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>100</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;age&#34;</span>: <span style=color:#40a070>20</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;other&#34;</span>: <span style=color:#4070a0>&#34;foo&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;name&#34;</span>: <span style=color:#4070a0>&#34;Bob&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In order to get to this value from our filtered results we need to first
select the <code>general</code> key. This gives us a list of just the values of the
<code>general</code> hash:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>100</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;age&#34;</span>: <span style=color:#40a070>20</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;other&#34;</span>: <span style=color:#4070a0>&#34;foo&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;name&#34;</span>: <span style=color:#4070a0>&#34;Bob&#34;</span>
</span></span><span style=display:flex><span>}]
</span></span></code></pre></div><p>From there, we then uses a pipe (<code>|</code>) to stop projections so that we can
finally select the first element (<code>[0]</code>). Note that we are making the
assumption that there&rsquo;s only one hash that contains an <code>id</code> of <code>100</code>.
Given the way the data is structured, it&rsquo;s entirely possible to have
data such as:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;people&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;general&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>100</span>,
</span></span><span style=display:flex><span>        <span style=color:#062873;font-weight:700>&#34;age&#34;</span>: <span style=color:#40a070>20</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;history&#34;</span>: {
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;general&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>101</span>,
</span></span><span style=display:flex><span>        <span style=color:#062873;font-weight:700>&#34;age&#34;</span>: <span style=color:#40a070>30</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;history&#34;</span>: {
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;general&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>100</span>,
</span></span><span style=display:flex><span>        <span style=color:#062873;font-weight:700>&#34;age&#34;</span>: <span style=color:#40a070>30</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;history&#34;</span>: {
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Note here that the first and last elements in the <code>people</code> array both
have an <code>id</code> of <code>100</code>. Our expression would then select the first
element that matched.</p><p>Finally, it&rsquo;s worth mentioning there is more than one way to write this
expression. In this example we&rsquo;ve decided that after we filter the list
we&rsquo;re going to select the value of the <code>general</code> key and then select
the first element in that list. We could also reverse the order of those
operations, we could have taken the filtered list, selected the first
element, and then extracted the value associated with the <code>general</code> key.
That expression would be:</p><pre><code>people[?general.id==`100`] | [0].general
</code></pre><p>Both versions are equally valid.</p><h1 id=wiki-using-functions>Using Functions</h1><p>JMESPath functions give you a lot of power and flexibility when working with JMESPath expressions.
Below are some common expressions and functions used in JMESPath.</p><h2 id=wiki-sort_by>sort_by</h2><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="sort_by(Contents, &amp;Date)[*].{Key: Key, Size: Size}"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;Contents&#34;: [
    {
      &#34;Date&#34;: &#34;2014-12-21T05:18:08.000Z&#34;,
      &#34;Key&#34;: &#34;logs/bb&#34;,
      &#34;Size&#34;: 303
    },
    {
      &#34;Date&#34;: &#34;2014-12-20T05:19:10.000Z&#34;,
      &#34;Key&#34;: &#34;logs/aa&#34;,
      &#34;Size&#34;: 308
    },
    {
      &#34;Date&#34;: &#34;2014-12-20T05:19:12.000Z&#34;,
      &#34;Key&#34;: &#34;logs/qux&#34;,
      &#34;Size&#34;: 297
    },
    {
      &#34;Date&#34;: &#34;2014-11-20T05:22:23.000Z&#34;,
      &#34;Key&#34;: &#34;logs/baz&#34;,
      &#34;Size&#34;: 329
    },
    {
      &#34;Date&#34;: &#34;2014-12-20T05:25:24.000Z&#34;,
      &#34;Key&#34;: &#34;logs/bar&#34;,
      &#34;Size&#34;: 604
    },
    {
      &#34;Date&#34;: &#34;2014-12-20T05:27:12.000Z&#34;,
      &#34;Key&#34;: &#34;logs/foo&#34;,
      &#34;Size&#34;: 647
    }
  ]
}</textarea>
<textarea class=result readonly>[
  {
    &#34;Key&#34;: &#34;logs/baz&#34;, &#34;Size&#34;: 329
  }, {
    &#34;Key&#34;: &#34;logs/aa&#34;, &#34;Size&#34;: 308
  }, {
    &#34;Key&#34;: &#34;logs/qux&#34;, &#34;Size&#34;: 297
  }, {
    &#34;Key&#34;: &#34;logs/bar&#34;, &#34;Size&#34;: 604
  }, {
    &#34;Key&#34;: &#34;logs/foo&#34;, &#34;Size&#34;: 647
  }, {
    &#34;Key&#34;: &#34;logs/bb&#34;, &#34;Size&#34;: 303
  }
]</textarea></div><p>The first interesting thing here if the use of the function <code>sort_by</code>.
In this example we are sorting the <code>Contents</code> array by the value of each
<code>Date</code> key in each element in the <code>Contents</code> array. The <code>sort_by</code>
function takes two arguments. The first argument is an array, and the
second argument describes the key that should be used to sort the array.</p><p>The second interesting thing in this expression is that the second
argument starts with <code>&</code>, which creates an expression type. Think of
this conceptually as a reference to an expression that can be evaluated
later. If you are familiar with lambda and anonymous functions,
expression types are similar. The reason we use <code>&amp;Date</code> instead of
<code>Date</code> is because if the expression is <code>Date</code>, it would be evaluated
before calling the function, and given there&rsquo;s no <code>Date</code> key in the
outer hash, the second argument would evaluate to <code>null</code>. Check out
<code>function-evaluation</code>{.interpreted-text role=&ldquo;ref&rdquo;} in the specification
for more information on how functions are evaluated in JMESPath. Also,
note that we&rsquo;re taking advantage of the fact that the dates are in ISO
8601 format, which can be sorted lexicographically.</p><p>And finally, the last interesting thing in this expression is the <code>[*]</code>
immediately after the <code>sort_by</code> function call. The reason for this is
that we want to apply the multiselect hash, the second half of the
expression, to each element in the sorted array. In order to do this we
need a projection. The <code>[*]</code> does exactly that, it takes the input array
and creates a projection such that the multiselect hash
<code>{Key: Key, Size: Size}</code> will be applied to each element in the list.</p><p>There are other functions that take expression types that are similar to
<code>sort_by</code> including <a href=https://jmespath.site/#functions-min_by target=_blank rel=noopener><code>min_by</code></a>
and <a href=https://jmespath.site/#functions-max_by target=_blank rel=noopener><code>max_by</code></a>
.</p><h1 id=wiki-pipes>Pipes</h1><p>Pipe expression are useful for stopping projections. They can also be
used to group expressions.</p><h2 id=wiki-main-page>Main Page</h2><p>Let&rsquo;s look at a modified version of the expression on the <a href=https://jmespath.org target=_blank rel=noopener>JMESPath front page</a>
.</p><div class=demo onclick=demo(event)><input type=text class=query oninput=demoInput(event) value="locations[?state == 'WA'].name | sort(@)[-2:] | {WashingtonCities: join(', ', @)}"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;locations&#34;: [
    {
      &#34;name&#34;: &#34;Seattle&#34;,
      &#34;state&#34;: &#34;WA&#34;
    },
    {
      &#34;name&#34;: &#34;New York&#34;,
      &#34;state&#34;: &#34;NY&#34;
    },
    {
      &#34;name&#34;: &#34;Bellevue&#34;,
      &#34;state&#34;: &#34;WA&#34;
    },
    {
      &#34;name&#34;: &#34;Olympia&#34;,
      &#34;state&#34;: &#34;WA&#34;
    }
  ]
}</textarea>
<textarea class=result readonly>{
  &#34;WashingtonCities&#34;: &#34;Olympia, Seattle&#34;
}</textarea></div><p>We can think of this JMESPath expression as having three components,
each separated by the pipe character <code>|</code>. The first expression is
familiar to us, it&rsquo;s similar to the first example on this page. The
second part of the expression, <code>sort(@)</code>, is similar to the <code>sort_by</code>
function we saw in the previous section. The <code>@</code> token is used to refer
to the current element. The <a href=https://jmespath.site/#functions-sort target=_blank rel=noopener><code>sort</code></a>
function takes a single parameter which is an array. If the input JSON
document was a hash, and we wanted to sort the <code>foo</code> key, which was an
array, we could just use <code>sort(foo)</code>. In this scenario, the input JSON
document is the array we want to sort. To refer to this value, we use
the current element, <code>@</code>, to indicate this. We&rsquo;re also only taking a
subset of the sorted array. We&rsquo;re using a slice (<code>[-2:]</code>) to indicate
that we only want the last two elements in the sorted array to be passed
through to the final third of this expression.</p><p>And finally, the third part of the expression,
<code>{WashingtonCities: join(', ', @)}</code>, creates a multiselect hash. It
takes as input, the list of sorted city names, and produces a hash with
a single key, <code>WashingtonCities</code>, whose values are the input list
(denoted by <code>@</code>) as a string separated by a comma.</p></article><article id=preview><h1>Preview Features</h1><h1 id=wiki-lexical-scopes>Lexical Scopes</h1><p>JMESPath Community introduces the <a href=https://github.com/jmespath-community/jmespath.spec/blob/main/jep-011a-lexical-scope.md target=_blank rel=noopener><code>let-expression</code></a>
function
to supports nested lexical scopes.</p><pre tabindex=0><code>let $foo = bar in {a: myvar, b: $foo}
</code></pre><p>The first argument is a JSON object that introduces a new lexical scope.</p><p>The second argument is an <code>expression-type</code> that is evaluated against the current context – <em>i.e</em> the current result of JMESPath evaluation context, that can be referred to by the <code>@</code> node. The <code>expression-type</code> also has access to the stack of nested scopes.</p><p>Consider the following example:</p><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="let $first_choice = first_choice in states[?name == $first_choice].cities[]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{&#34;first_choice&#34;: &#34;WA&#34;,
 &#34;states&#34;: [
   {&#34;name&#34;: &#34;WA&#34;, &#34;cities&#34;: [&#34;Seattle&#34;, &#34;Bellevue&#34;, &#34;Olympia&#34;]},
   {&#34;name&#34;: &#34;CA&#34;, &#34;cities&#34;: [&#34;Los Angeles&#34;, &#34;San Francisco&#34;]},
   {&#34;name&#34;: &#34;NY&#34;, &#34;cities&#34;: [&#34;New York City&#34;, &#34;Albany&#34;]}
 ]
}</textarea>
<textarea class=result readonly></textarea></div><p>When evaluating the <code>states</code> identifier, JMESPath no longer has access to the root scope, where <code>first_choice</code> is defined. Therefore, under normal circumstances, the <code>filter-expression</code> <code>[?name === first_choice]</code> would evaluate the <code>first_choice</code> identifier and return an empty array.</p><p>Instead, <code>let()</code> defined the identifier <code>first_choice</code> has taking the value of the property with the same name in the input JSON document. It effectively created a scope that can be represented as the following JSON object:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{ <span style=color:#062873;font-weight:700>&#34;first_choice&#34;</span>: <span style=color:#4070a0>&#34;WA&#34;</span> }
</span></span></code></pre></div><p>Therefore, when evaluating the <code>filter-expression</code>, the <code>first_choice</code> identifier is indeed defined, and produces the correct result.</p><h2 id=wiki-arithmetic-expressions>Arithmetic Expressions</h2><p>JMESPath Community now supports <a href=https://github.com/jmespath-community/jmespath.spec/discussions/25#discussioncomment-3277652 target=_blank rel=noopener><code>arithmetic-expression</code></a>
syntax with the usual operators.</p><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="{ a: a, b: b, c: b × `2` } | a ÷ ( b − c)"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;a&#34;: 40,
  &#34;b&#34;: 2
}</textarea>
<textarea class=result readonly>-20</textarea></div><h2 id=wiki-object-manipulation-functions>Object Manipulation Functions</h2><p>As a JSON query language, JMESPath Community now supports <a href=https://github.com/jmespath-community/jmespath.spec/discussions/47#discussioncomment-3308897 target=_blank rel=noopener>functions to manipulate JSON objects</a>
.</p><p>The <code>items()</code> function allows you to <em>deconstruct</em> a JSON object to its key and values,
whereas the <code>from_items()</code> function will combine two arrays into a single JSON object.</p><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="from_items(items(@))"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;foo&#34;: &#34;lorem&#34;,
  &#34;bar&#34;: &#34;ipsum&#34;,
  &#34;baz&#34;: &#34;dolor&#34;
}</textarea>
<textarea class=result readonly>{
  &#34;bar&#34;: &#34;ipsum&#34;, &#34;baz&#34;: &#34;dolor&#34;, &#34;foo&#34;: &#34;lorem&#34;
}</textarea></div><p>The <code>zip()</code> function comes the Python language. It combines two or more arrays into a set of arrays,
each of which contains the _i_th indexed item from each indivual array.</p><p>For better understanding, consider the following example:</p><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="zip(people, country, fruits)"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;fruits&#34;: [&#34;Orange&#34;, &#34;Apple&#34;, &#34;Strawberry&#34;],
  &#34;people&#34;: [&#34;John&#34;, &#34;Marc&#34;, &#34;Paul&#34;],
  &#34;country&#34;: [&#34;Germany&#34;, &#34;France&#34;, &#34;USA&#34; ]
}</textarea>
<textarea class=result readonly>[
  [
    &#34;John&#34;, &#34;Germany&#34;, &#34;Orange&#34;
  ], [
    &#34;Marc&#34;, &#34;France&#34;, &#34;Apple&#34;
  ], [
    &#34;Paul&#34;, &#34;USA&#34;, &#34;Strawberry&#34;
  ]
]</textarea></div><p>Think of the three <code>fruits</code>, <code>people</code> and <code>country</code> arrays as being <em>rows</em> in a table.
Each array has a number of items that you can think of as being the <em>columns</em> in the table.</p><p>The <code>zip()</code> function will create as many arrays as there are full columns, each of which
will contain the items found in each row of the table.</p><p>So, the first array – corresponding to the first column of the table – will contain
one item from the <code>people</code> row, one item from the <code>country</code> row and finally one item from the <code>fruits</code> row,
resulting in <code>["John", "Germany", "Orange"]</code>.</p><p>The second array – corresponding to the second column of the table – contains <code>["Marc", "France", "Apple"]</code>.</p><h2 id=wiki-string-slices>String Slices</h2><p>Using <code>slice-expression</code> to slice strings is popular in modern programming languages. JMESPath Community supports slicing strings using the same syntax:</p><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="foo[:4]"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;foo&#34;: &#34;Hello, world!&#34;,
  &#34;bar&#34;: [&#34;h&#34;, &#34;e&#34;, &#34;l&#34;, &#34;l&#34;, &#34;o&#34;, &#34; &#34;, &#34;w&#34;, &#34;o&#34;, &#34;r&#34;, &#34;l&#34;, &#34;d&#34;, &#34;!&#34;]
}</textarea>
<textarea class=result readonly>&#34;Hell&#34;</textarea></div><p><strong>Note</strong>: <code>slice-expression</code> applied to JSON arrays result in a <em>projection</em>. Applying a <code>slice-expression</code> to a JSON string, however, produces a JSON string.</p><h2 id=wiki-groups>Groups</h2><p>Using the <a href=https://github.com/jmespath-community/jmespath.spec/discussions/96#discussion-4282156 target=_blank rel=noopener><code>group_by()</code> function</a>
, you can group collection of objects with specific criteria:</p><div class="demo active" onclick=demo(event) class=active><input type=text class=query oninput=demoInput(event) value="group_by(items, &amp;spec.nodeName)"></input>
<textarea class=data rows=10 oninput=demoInput(event)>{
  &#34;items&#34;: [
    { &#34;spec&#34;: { &#34;nodeName&#34;: &#34;node_01&#34;, &#34;other&#34;: &#34;values_01&#34; } },
    { &#34;spec&#34;: { &#34;nodeName&#34;: &#34;node_02&#34;, &#34;other&#34;: &#34;values_02&#34; } },
    { &#34;spec&#34;: { &#34;nodeName&#34;: &#34;node_03&#34;, &#34;other&#34;: &#34;values_03&#34; } },
    { &#34;spec&#34;: { &#34;nodeName&#34;: &#34;node_01&#34;, &#34;other&#34;: &#34;values_04&#34; } }
  ]
}</textarea>
<textarea class=result readonly>{
  &#34;node_01&#34;: [
    {
      &#34;spec&#34;: {
        &#34;nodeName&#34;: &#34;node_01&#34;, &#34;other&#34;: &#34;values_01&#34;
      }
    }, {
      &#34;spec&#34;: {
        &#34;nodeName&#34;: &#34;node_01&#34;, &#34;other&#34;: &#34;values_04&#34;
      }
    }
  ], &#34;node_02&#34;: [
    {
      &#34;spec&#34;: {
        &#34;nodeName&#34;: &#34;node_02&#34;, &#34;other&#34;: &#34;values_02&#34;
      }
    }
  ], &#34;node_03&#34;: [
    {
      &#34;spec&#34;: {
        &#34;nodeName&#34;: &#34;node_03&#34;, &#34;other&#34;: &#34;values_03&#34;
      }
    }
  ]
}</textarea></div></article><article id=libraries><h1>Libraries</h1><p>The JMESPath specification is implemented in various languages. Each list below shows JMESPath libraries as well as the
compliance level. The compliance level is based on which compliance tests the library can pass and as reported by their respective authors.</p><ul><li><em>Fully compliant</em>: means compliant with respect to the <a href=https://jmespath.org target=_blank rel=noopener>original version</a>
of JMESPath.</li><li><em>JMESPath Community</em>: means compliant with respect to the new JMESPath Community specifications.</li></ul><table><thead><tr><th>Language</th><th>Name</th><th>Compliance Level</th></tr></thead><tbody><tr><td>C++</td><td><a href=https://github.com/robertmrk/jmespath.cpp target=_blank rel=noopener>jmespath.cpp</a></td><td>Fully compliant</td></tr><tr><td>.NET</td><td><a href=https://github.com/jdevillard/JmesPath.Net target=_blank rel=noopener>jmespath.net</a></td><td><img src=https://img.shields.io/badge/JMESPath%20Community-100%25-yellowgreen alt></td></tr><tr><td>Elixir</td><td><a href=https://github.com/stephan83/ex-jmes target=_blank rel=noopener>ex-jmes</a></td><td>Fully compliant</td></tr><tr><td>Go</td><td><a href=https://github.com/jmespath-community/go-jmespath target=_blank rel=noopener>go-jmespath</a></td><td><img src=https://img.shields.io/badge/JMESPath%20Community-100%25-yellowgreen alt></td></tr><tr><td>Java</td><td><a href=https://github.com/burtcorp/jmespath-java target=_blank rel=noopener>jmespath-java</a></td><td>Fully compliant</td></tr><tr><td>Lua</td><td><a href=https://github.com/jmespath/jmespath.lua target=_blank rel=noopener>jmespath.lua</a></td><td>Fully compliant</td></tr><tr><td>Javascript</td><td><a href=https://github.com/jmespath/jmespath.js target=_blank rel=noopener>jmespath.js</a></td><td>Fully compliant</td></tr><tr><td>PHP</td><td><a href=https://github.com/jmespath/jmespath.php target=_blank rel=noopener>jmespath.php</a></td><td>Fully compliant</td></tr><tr><td>Python</td><td><a href=https://github.com/jmespath-community/python-jmespath target=_blank rel=noopener>python-jmespath</a></td><td><img src=https://img.shields.io/badge/JMESPath%20Community-100%25-yellowgreen alt></td></tr><tr><td>Ruby</td><td><a href=https://github.com/trevorrowe/jmespath.rb target=_blank rel=noopener>jmespath.rb</a></td><td>Fully compliant</td></tr><tr><td>Rust</td><td><a href=https://github.com/mtdowling/jmespath.rs target=_blank rel=noopener>jmespath.rs</a></td><td>Fully compliant</td></tr><tr><td>TypeScript</td><td><a href=https://github.com/jmespath-community/typescript-jmespath target=_blank rel=noopener>typescript-jmespath</a></td><td><img src=https://img.shields.io/badge/JMESPath%20Community-100%25-yellowgreen alt></td></tr></tbody></table><p>In addition to the JMESPath libraries above, there are a number of miscellaneous JMESPath tools.</p><table><thead><tr><th>Tool</th><th>Description</th></tr></thead><tbody><tr><td><a href=https://github.com/jmespath-community/jmespath.terminal target=_blank rel=noopener>jmespath.terminal</a></td><td>Provides a JMESPath interactive terminal that you can use to evaluate JMESPath expressions as you type. The README in the <a href=https://github.com/jmespath-community/jmespath.terminal target=_blank rel=noopener>github repo</a>
shows GIFs of <code>jpterm</code> in action.</td></tr><tr><td><a href=https://github.com/jmespath-community/jp target=_blank rel=noopener>jp</a></td><td>Provides a JMESPath command line interface called <code>jp</code>. This cross platform tool accepts JSON data through stdin or input files, and prints the result of evaluating the JMESPath expression to stdout. This is useful if you're writing shell scripts that need to manipulate JSON data.</td></tr></tbody></table></article><article id=specification><h1>Syntax</h1><nav><ul><li><a href=#spec-errors>Errors</a></li><li><a href=#spec-grammar>Grammar</a></li><li><a href=#spec-expression>expression</a></li><li><a href=#spec-sub-expressions>Sub-expressions</a></li><li><a href=#spec-pipe-expressions>Pipe Expressions</a></li><li><a href=#spec-or-expressions>Or Expressions</a></li><li><a href=#spec-and-expressions>And Expressions</a></li><li><a href=#spec-not-expressions>Not Expressions</a></li><li><a href=#spec-arithmetic-expressions>Arithmetic Expressions</a></li><li><a href=#spec-parenthetical-expressions>Parenthetical Expressions</a></li><li><a href=#spec-index-expressions>Index Expressions</a><ul><li><a href=#spec-flatten-operator>Flatten Operator</a></li><li><a href=#spec-slices>Slices</a></ul></li><li><a href=#spec-multiselect-list>MultiSelect List</a></li><li><a href=#spec-multiselect-hash>MultiSelect Hash</a></li><li><a href=#spec-wildcard-expressions>Wildcard Expressions</a></li><li><a href=#spec-filter-expressions>Filter Expressions</a><ul><li><a href=#spec-comparison-operators>Comparison Operators</a></li><li><a href=#spec-equality-operators>Equality Operators</a></li><li><a href=#spec-ordering-operators>Ordering Operators</a></ul></li><li><a href=#spec-function-expressions>Function Expressions</a><ul><li><a href=#spec-data-types>Data Types</a></li><li><a href=#spec-current-node>current-node</a></li><li><a href=#spec-root-node>root-node</a></ul></li><li><a href=#spec-let-expressions>Let Expressions</a><ul><li><a href=#spec-examples-of-this-new-syntax>Examples of this new syntax:</a></ul></li><li><a href=#spec-function-evaluation>Function Evaluation</a></li><li><a href=#spec-raw-string-literals>Raw String Literals</a></li><li><a href=#spec-literal-expressions>Literal Expressions</a></li><li><a href=#spec-identifiers>Identifiers</a></li></ul></nav><section><p>In this specification, examples are shown through the use of a search function. The syntax for this function is:</p><pre tabindex=0><code>search(&lt;jmespath expr&gt;, &lt;JSON document&gt;) -&gt; &lt;return value&gt;
</code></pre><p>For simplicity, the jmespath expression and the JSON document are not quoted. For example:</p><pre tabindex=0><code>search(foo, {&#34;foo&#34;: &#34;bar&#34;}) -&gt; &#34;bar&#34;
</code></pre><p>The result of applying a JMESPath expression against a JSON document will always result in valid JSON, provided there
are no errors during the evaluation process. Structured data in, structured data out.</p><p>This also means that, with the exception of JMESPath expression types, JMESPath only supports the same types supported by JSON:</p><ul><li>number (integers and double-precision floating-point format in JSON)</li><li>string (a sequence of Unicode <a href=https://unicode.org/glossary/#code_point target=_blank rel=noopener>code points</a>
. Note that a code point is distinct to a <a href=https://unicode.org/glossary/#code_unit target=_blank rel=noopener>code unit</a>
)</li><li>boolean (true or false)</li><li>array (an ordered, sequence of values)</li><li>object (an unordered collection of key value pairs)</li><li>null</li></ul><p>Expression types are discussed in the <a href=#function-expressions>Function Expressions</a>
section.</p><p>Implementations can map the corresponding JSON types to their language equivalent. For example, a JSON null could map to
None in python, and nil in ruby and go.</p><h1 id=spec-errors>Errors</h1><p>Errors may be raised during the JMEspath evaluation process. How and when errors are raised is implementation specific,
but implementations should indicate to the caller when errors have occurred.</p><p>The following errors are defined:</p><ul><li><code>invalid-arity</code> is raised when an invalid number of function arguments is encountered during the evaluation process.</li><li><code>invalid-type</code> is raised when an invalid type is encountered during the evaluation process.</li><li><code>invalid-value</code> is raised when an invalid value is encountered during the evaluation process.</li><li><code>not-a-number</code> is raised when arithmetic expressions overflow.</li><li><code>unknown-function</code> is raised when an unknown function is encountered during the evaluation process.</li></ul><h1 id=spec-grammar>Grammar</h1><p>JMESPath grammar is specified using ABNF, as described in RFC4234</p><p>In addition to the grammar, there is the following token precedence that goes from weakest to tightest binding:</p><ul><li>pipe: |</li><li>or: ||</li><li>and: &&</li><li>unary not: !</li><li>rbracket: ]</li></ul><p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-abnf data-lang=abnf><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>sub-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>index-expression</span>  <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>comparator-expression</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>or-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>identifier</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>and-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>not-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>paren-expression</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>multi-select-list</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>multi-select-hash</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>literal</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>function-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>pipe-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>raw-string</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>root-node</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>current-node</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>arithmetic-expression</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>let-expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>variable-ref</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>sub-expression</span>    <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;.&#34; ( <span style=color:#0e84b5;font-weight:700>identifier</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>multi-select-list</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>multi-select-hash</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>function-expression</span> <span style=color:#666>/</span> &#34;*&#34; ) 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>pipe-expression</span>   <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;|&#34; <span style=color:#0e84b5;font-weight:700>expression</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>or-expression</span>     <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;||&#34; <span style=color:#0e84b5;font-weight:700>expression</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>and-expression</span>    <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;&amp;&amp;&#34; <span style=color:#0e84b5;font-weight:700>expression</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>not-expression</span>    <span style=color:#666>=</span> &#34;!&#34; <span style=color:#0e84b5;font-weight:700>expression</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=/</span> &#34;+&#34; <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; + %x43 </span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=/</span> ( &#34;-&#34; <span style=color:#666>/</span> &#34;–&#34; ) <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; - %x45 – %x2212 \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;%&#34; <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; % %x37 \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>expression</span> ( &#34;*&#34; <span style=color:#666>/</span> &#34;×&#34; ) <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; * %x42 ×  %xD7 \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;+&#34; <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; + %x43 \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>expression</span> ( &#34;-&#34; <span style=color:#666>/</span> &#34;–&#34; ) <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; - %x45 – %x2212 \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>expression</span> ( &#34;/&#34; <span style=color:#666>/</span> &#34;÷&#34; ) <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; / %x47 ÷ %F7 \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>arithmetic-expression</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> &#34;//&#34; <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#60a0b0;font-style:italic>; // %47 %47</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>paren-expression</span>  <span style=color:#666>=</span> &#34;(&#34; <span style=color:#0e84b5;font-weight:700>expression</span> &#34;)&#34; 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>index-expression</span>  <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#0e84b5;font-weight:700>bracket-specifier</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>bracket-specifier</span> 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>bracket-specifier</span> <span style=color:#666>=</span> &#34;[&#34; (<span style=color:#0e84b5;font-weight:700>number</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>slice-expression</span>) &#34;]&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>bracket-specifier</span> <span style=color:#666>=/</span> &#34;[]&#34; 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>slice-expression</span>  <span style=color:#666>=</span> [<span style=color:#0e84b5;font-weight:700>number</span>] &#34;:&#34; [<span style=color:#0e84b5;font-weight:700>number</span>] [ &#34;:&#34; [<span style=color:#0e84b5;font-weight:700>number</span>] ] 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>multi-select-list</span> <span style=color:#666>=</span> &#34;[&#34; ( <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#666>*</span>( &#34;,&#34; <span style=color:#0e84b5;font-weight:700>expression</span> ) ) &#34;]&#34; 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>multi-select-hash</span> <span style=color:#666>=</span> &#34;{&#34; ( <span style=color:#0e84b5;font-weight:700>keyval-expr</span> <span style=color:#666>*</span>( &#34;,&#34; <span style=color:#0e84b5;font-weight:700>keyval-expr</span> ) ) &#34;}&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>keyval-expr</span>       <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>identifier</span> &#34;:&#34; <span style=color:#0e84b5;font-weight:700>expression</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression</span>        <span style=color:#666>=/</span> &#34;*&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>bracket-specifier</span> <span style=color:#666>=/</span> &#34;[&#34; &#34;*&#34; &#34;]&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>filter-expression</span> <span style=color:#666>=</span> &#34;[?&#34; <span style=color:#0e84b5;font-weight:700>expression</span> &#34;]&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>bracket-specifier</span> <span style=color:#666>=/</span> <span style=color:#0e84b5;font-weight:700>filter-expression</span> 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>comparator-expression</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#0e84b5;font-weight:700>comparator</span> <span style=color:#0e84b5;font-weight:700>expression</span> 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>comparator</span>        <span style=color:#666>=</span> &#34;&lt;&#34; <span style=color:#666>/</span> &#34;&lt;=&#34; <span style=color:#666>/</span> &#34;==&#34; <span style=color:#666>/</span> &#34;&gt;=&#34; <span style=color:#666>/</span> &#34;&gt;&#34; <span style=color:#666>/</span> &#34;!=&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>function-expression</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>unquoted-string</span>  ( <span style=color:#0e84b5;font-weight:700>no-args</span>  <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>one-or-more-args</span> ) 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>no-args</span>             <span style=color:#666>=</span> &#34;(&#34; &#34;)&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>one-or-more-args</span>    <span style=color:#666>=</span> &#34;(&#34; ( <span style=color:#0e84b5;font-weight:700>function-arg</span> <span style=color:#666>*</span>( &#34;,&#34; <span style=color:#0e84b5;font-weight:700>function-arg</span> ) ) &#34;)&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>function-arg</span>        <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>expression</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>expression-type</span> 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>current-node</span>        <span style=color:#666>=</span> &#34;@&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>root-node</span>           <span style=color:#666>=</span> &#34;$&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>expression-type</span>     <span style=color:#666>=</span> &#34;&amp;&#34; <span style=color:#0e84b5;font-weight:700>expression</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>let-expression</span> <span style=color:#666>=</span> &#34;let&#34; <span style=color:#0e84b5;font-weight:700>bindings</span> &#34;in&#34; <span style=color:#0e84b5;font-weight:700>expression</span> 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>bindings</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>variable-binding</span> <span style=color:#666>*</span>( &#34;,&#34; <span style=color:#0e84b5;font-weight:700>variable-binding</span> ) \
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>variable-binding</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>variable-ref</span> &#34;=&#34; <span style=color:#0e84b5;font-weight:700>expression</span> \
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>variable-ref</span> <span style=color:#666>=</span> &#34;$&#34; <span style=color:#0e84b5;font-weight:700>unquoted-string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>raw-string</span>        <span style=color:#666>=</span> &#34;&#39;&#34; <span style=color:#666>*</span><span style=color:#0e84b5;font-weight:700>raw-string-char</span> &#34;&#39;&#34; 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>raw-string-char</span>   <span style=color:#666>=</span> (%x00-26 <span style=color:#666>/</span> %x28-5B <span style=color:#666>/</span> %x5D-10FFFF) <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>preserved-escape</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>raw-string-escape</span> 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>preserved-escape</span>  <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>escape</span> (%x00-26 <span style=color:#666>/</span> %x28-5B <span style=color:#666>/</span> %x5D-10FFFF) 
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>raw-string-escape</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>escape</span> (&#34;&#39;&#34; <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>escape</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>literal</span>           <span style=color:#666>=</span> &#34;`&#34; <span style=color:#0e84b5;font-weight:700>json-text</span> &#34;`&#34; 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>number</span>            <span style=color:#666>=</span> [&#34;-&#34;] <span style=color:#666>1*</span><span style=color:#0e84b5;font-weight:700>digit</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>digit</span>             <span style=color:#666>=</span> %x30-39 <span style=color:#60a0b0;font-style:italic>; 0-9</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>identifier</span>        <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>unquoted-string</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>quoted-string</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>unquoted-string</span>   <span style=color:#666>=</span> (%x41-5A <span style=color:#666>/</span> %x61-7A <span style=color:#666>/</span> %x5F) <span style=color:#666>*</span>(  <span style=color:#60a0b0;font-style:italic>; A-Za-z_</span>
</span></span><span style=display:flex><span>                        %x30-39  <span style=color:#666>/</span>  <span style=color:#60a0b0;font-style:italic>; 0-9</span>
</span></span><span style=display:flex><span>                        %x41-5A <span style=color:#666>/</span>  <span style=color:#60a0b0;font-style:italic>; A-Z</span>
</span></span><span style=display:flex><span>                        %x5F    <span style=color:#666>/</span>  <span style=color:#60a0b0;font-style:italic>; _</span>
</span></span><span style=display:flex><span>                        %x61-7A)   <span style=color:#60a0b0;font-style:italic>; a-z</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>quoted-string</span>     <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>quotation-mark</span> <span style=color:#666>*</span>(<span style=color:#0e84b5;font-weight:700>unescaped-char</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>escaped-char</span>) <span style=color:#0e84b5;font-weight:700>quotation-mark</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>unescaped-char</span>    <span style=color:#666>=</span> %x20-21 <span style=color:#666>/</span> %x23-5B <span style=color:#666>/</span> %x5D-10FFFF
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>escape</span>            <span style=color:#666>=</span> %x5C   <span style=color:#60a0b0;font-style:italic>; \</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>quotation-mark</span>    <span style=color:#666>=</span> %x22   <span style=color:#60a0b0;font-style:italic>; &#34;</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>escaped-char</span>      <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>escape</span> (
</span></span><span style=display:flex><span>                        %x22 <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; &#34;    quotation mark  U+0022</span>
</span></span><span style=display:flex><span>                        %x5C <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; \    reverse solidus U+005C</span>
</span></span><span style=display:flex><span>                        %x2F <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; /    solidus         U+002F</span>
</span></span><span style=display:flex><span>                        %x62 <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; b    backspace       U+0008</span>
</span></span><span style=display:flex><span>                        %x66 <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; f    form feed       U+000C</span>
</span></span><span style=display:flex><span>                        %x6E <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; n    line feed       U+000A</span>
</span></span><span style=display:flex><span>                        %x72 <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; r    carriage return U+000D</span>
</span></span><span style=display:flex><span>                        %x74 <span style=color:#666>/</span>          <span style=color:#60a0b0;font-style:italic>; t    tab             U+0009</span>
</span></span><span style=display:flex><span>                        %x75 <span style=color:#666>4</span><span style=color:#007020;font-weight:700>HEXDIG</span> )  <span style=color:#60a0b0;font-style:italic>; uXXXX                U+XXXX</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-text</span>  <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> <span style=color:#0e84b5;font-weight:700>json-value</span> <span style=color:#0e84b5;font-weight:700>ws</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>ws</span>         <span style=color:#666>=</span> <span style=color:#666>*</span>(
</span></span><span style=display:flex><span>                %x20 <span style=color:#666>/</span>              <span style=color:#60a0b0;font-style:italic>; Space</span>
</span></span><span style=display:flex><span>                %x09 <span style=color:#666>/</span>              <span style=color:#60a0b0;font-style:italic>; Horizontal tab</span>
</span></span><span style=display:flex><span>                %x0A <span style=color:#666>/</span>              <span style=color:#60a0b0;font-style:italic>; Line feed or New line</span>
</span></span><span style=display:flex><span>                %x0D )              <span style=color:#60a0b0;font-style:italic>; Carriage return</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; `json-value` is any valid JSON value with the one exception that each</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; U+0060 GRAVE ACCENT &#39;`&#39; must be escaped with a preceding backslash.</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; While implementations are encouraged to use any existing JSON parser for this</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; section of the grammar (after handling the escaped characters), a complete</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; set of rules derived from RFC 8259 is included below:</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-value</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>false</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>null</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>true</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>json-object</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>json-array</span> <span style=color:#666>/</span>
</span></span><span style=display:flex><span>             <span style=color:#0e84b5;font-weight:700>json-number</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>json-string</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; JSON literals</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>false</span> <span style=color:#666>=</span> %x66.61.6c.73.65   <span style=color:#60a0b0;font-style:italic>; false</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>null</span>  <span style=color:#666>=</span> %x6e.75.6c.6c      <span style=color:#60a0b0;font-style:italic>; null</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>true</span>  <span style=color:#666>=</span> %x74.72.75.65      <span style=color:#60a0b0;font-style:italic>; true</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; JSON strings</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-string</span>    <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>quotation-mark</span> <span style=color:#666>*</span>( <span style=color:#0e84b5;font-weight:700>json-unescaped</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>json-escaped</span> ) <span style=color:#0e84b5;font-weight:700>quotation-mark</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-unescaped</span> <span style=color:#666>=</span> %x20-21     <span style=color:#666>/</span> <span style=color:#60a0b0;font-style:italic>; space or &#39;!&#39; (precedes U+0022 &#39;&#34;&#39;)</span>
</span></span><span style=display:flex><span>                 %x23-5B     <span style=color:#666>/</span> <span style=color:#60a0b0;font-style:italic>; &#39;#&#39; through &#39;[&#39; (precedes U+005C &#39;\&#39;)</span>
</span></span><span style=display:flex><span>                 %x5D-5F     <span style=color:#666>/</span> <span style=color:#60a0b0;font-style:italic>; &#39;]&#39; through &#39;_&#39; (precedes U+0060 &#39;`&#39;)</span>
</span></span><span style=display:flex><span>                 %x61-10FFFF   <span style=color:#60a0b0;font-style:italic>; &#39;a&#39; and all following code points</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-escaped</span>   <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>escaped-char</span> <span style=color:#666>/</span> (<span style=color:#0e84b5;font-weight:700>escape</span> &#34;`&#34;)
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; JSON arrays</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-array</span>      <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>begin-array</span> [ <span style=color:#0e84b5;font-weight:700>json-value</span> <span style=color:#666>*</span>( <span style=color:#0e84b5;font-weight:700>value-separator</span> <span style=color:#0e84b5;font-weight:700>json-value</span> ) ] <span style=color:#0e84b5;font-weight:700>end-array</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>begin-array</span>     <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> %x5B <span style=color:#0e84b5;font-weight:700>ws</span>  <span style=color:#60a0b0;font-style:italic>; [ left square bracket</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>end-array</span>       <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> %x5D <span style=color:#0e84b5;font-weight:700>ws</span>  <span style=color:#60a0b0;font-style:italic>; ] right square bracket</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>value-separator</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> %x2C <span style=color:#0e84b5;font-weight:700>ws</span>  <span style=color:#60a0b0;font-style:italic>; , comma</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; JSON objects</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-object</span>    <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>begin-object</span> [ <span style=color:#0e84b5;font-weight:700>member</span> <span style=color:#666>*</span>( <span style=color:#0e84b5;font-weight:700>value-separator</span> <span style=color:#0e84b5;font-weight:700>member</span> ) ] <span style=color:#0e84b5;font-weight:700>end-object</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>begin-object</span>   <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> %x7B <span style=color:#0e84b5;font-weight:700>ws</span>  <span style=color:#60a0b0;font-style:italic>; { left curly bracket</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>end-object</span>     <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> %x7D <span style=color:#0e84b5;font-weight:700>ws</span>  <span style=color:#60a0b0;font-style:italic>; } right curly bracket</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>member</span>         <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>json-string</span> <span style=color:#0e84b5;font-weight:700>name-separator</span> <span style=color:#0e84b5;font-weight:700>json-value</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>name-separator</span> <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>ws</span> %x3A <span style=color:#0e84b5;font-weight:700>ws</span>  <span style=color:#60a0b0;font-style:italic>; : colon</span>
</span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>; JSON numbers</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>json-number</span>   <span style=color:#666>=</span> [ <span style=color:#0e84b5;font-weight:700>minus</span> ] <span style=color:#0e84b5;font-weight:700>int</span> [ <span style=color:#0e84b5;font-weight:700>frac</span> ] [ <span style=color:#0e84b5;font-weight:700>exp</span> ]
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>decimal-point</span> <span style=color:#666>=</span> %x2E                 <span style=color:#60a0b0;font-style:italic>; .</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>digit1-9</span>      <span style=color:#666>=</span> %x31-39              <span style=color:#60a0b0;font-style:italic>; 1-9</span>
</span></span><span style=display:flex><span>e             <span style=color:#666>=</span> %x65 <span style=color:#666>/</span> %x45          <span style=color:#60a0b0;font-style:italic>; e E</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>exp</span>           <span style=color:#666>=</span> e [ <span style=color:#0e84b5;font-weight:700>minus</span> <span style=color:#666>/</span> <span style=color:#0e84b5;font-weight:700>plus</span> ] <span style=color:#666>1*</span><span style=color:#0e84b5;font-weight:700>digit</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>frac</span>          <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>decimal-point</span> <span style=color:#666>1*</span><span style=color:#0e84b5;font-weight:700>digit</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>int</span>           <span style=color:#666>=</span> <span style=color:#0e84b5;font-weight:700>zero</span> <span style=color:#666>/</span> ( <span style=color:#0e84b5;font-weight:700>digit1-9</span> <span style=color:#666>*</span><span style=color:#0e84b5;font-weight:700>digit</span> )
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>minus</span>         <span style=color:#666>=</span> %x2D                 <span style=color:#60a0b0;font-style:italic>; -</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>plus</span>          <span style=color:#666>=</span> %x2B                 <span style=color:#60a0b0;font-style:italic>; +</span>
</span></span><span style=display:flex><span><span style=color:#0e84b5;font-weight:700>zero</span>          <span style=color:#666>=</span> %x30                 <span style=color:#60a0b0;font-style:italic>; 0</span>
</span></span><span style=display:flex><span>
</span></span></code></pre></div></p></section><section><h1 id=spec-expression>expression</h1><pre>expression        = sub-expression / index-expression  / comparator-expression
expression        =/ or-expression / identifier
expression        =/ and-expression / not-expression / paren-expression
expression        =/ multi-select-list / multi-select-hash / literal
expression        =/ function-expression / pipe-expression / raw-string
expression        =/ root-node / current-node
expression        =/ arithmetic-expression
expression        =/ let-expression / variable-ref
  </pre><div></div></section><section><h1 id=spec-sub-expressions>Sub-expressions</h1><pre>sub-expression    = expression "." ( identifier / multi-select-list / multi-select-hash / function-expression / "*" )
  </pre><div><p>A sub-expression is a combination of two expressions separated by the &lsquo;.&rsquo; char. A sub-expression is evaluated as follows:</p><ul><li>Evaluate the expression on the left with the original JSON document.</li><li>Evaluate the expression on the right with the result of the left expression evaluation.</li></ul><p>In pseudocode:</p><pre tabindex=0><code>left-evaluation = search(left-expression, original-json-document)
if left-evaluation is `null` then result = `null`
else result = search(right-expression, left-evaluation)
</code></pre><p>A sub-expression is itself an expression, so there can be multiple levels of sub-expressions: grandparent.parent.child.
Examples</p><p>Given a JSON document: <code>{"foo": {"bar": "baz"}}</code>, and a jmespath expression: foo.bar, the evaluation process would be:</p><pre tabindex=0><code>left-evaluation = search(&#34;foo&#34;, {&#34;foo&#34;: {&#34;bar&#34;: &#34;baz&#34;}}) -&gt; {&#34;bar&#34;: &#34;baz&#34;}
result = search(&#34;bar&#34;: {&#34;bar&#34;: &#34;baz&#34;}) -&gt; &#34;baz&#34;
</code></pre><p>The final result in this example is &ldquo;baz&rdquo;.</p><p>Additional examples:</p><pre tabindex=0><code>search(foo.bar, {&#34;foo&#34;: {&#34;bar&#34;: &#34;value&#34;}}) -&gt; &#34;value&#34;
search(foo.&#34;bar&#34;, {&#34;foo&#34;: {&#34;bar&#34;: &#34;value&#34;}}) -&gt; &#34;value&#34;
search(foo.bar, {&#34;foo&#34;: {&#34;baz&#34;: &#34;value&#34;}}) -&gt; null
search(foo.bar.baz, {&#34;foo&#34;: {&#34;bar&#34;: {&#34;baz&#34;: &#34;value&#34;}}}) -&gt; &#34;value&#34;
</code></pre></div></section><section><h1 id=spec-pipe-expressions>Pipe Expressions</h1><pre>pipe-expression   = expression "|" expression
  </pre><div><p>A pipe expression combines two expressions, separated by the <code>|</code> character.
It is similar to a sub-expression with a few important distinctions:</p><ol><li>Any expression can be used on the right hand side. A sub-expression restricts the type of expression that can be
used on the right hand side.</li><li>A pipe-expression stops projections on the left hand side for propagating to the right hand side. If the left
expression creates a projection, it does not apply to the right hand side.</li><li>Contrary to a sub-expression, a pipe-expression <strong>does not stop evaluation</strong> if the left-hand-side evaluates to <code>null</code>.</li></ol><p>In pseudocode:</p><pre tabindex=0><code>left-evaluation = search(left-expression, original-json-document)
result = search(right-expression, left-evaluation)
</code></pre><p>For example, given the following data:</p><pre tabindex=0><code>{&#34;foo&#34;: [{&#34;bar&#34;: [&#34;first1&#34;, &#34;second1&#34;]}, {&#34;bar&#34;: [&#34;first2&#34;, &#34;second2&#34;]}]}
</code></pre><p>The expression <code>foo[*].bar</code> gives the result of:</p><pre tabindex=0><code>[
    [
        &#34;first1&#34;,
        &#34;second1&#34;
    ],
    [
        &#34;first2&#34;,
        &#34;second2&#34;
    ]
]
</code></pre><p>The first part of the expression, <code>foo[*]</code>, creates a projection. At this point, the remaining expression, bar is
projected onto each element of the list created from <code>foo[*]</code>. If you project the <code>[0]</code> expression, you will get the
first element from each sub list. The expression <code>foo[*].bar[0]</code> will return:</p><pre tabindex=0><code>[&#34;first1&#34;, &#34;first2&#34;]
</code></pre><p>If you instead wanted only the first sub list, <code>["first1", "second1"]</code>, you can use a <code>pipe-expression</code>:</p><pre tabindex=0><code>foo[*].bar[0] -&gt; [&#34;first1&#34;, &#34;first2&#34;]
foo[*].bar | [0] -&gt; [&#34;first1&#34;, &#34;second1&#34;]
</code></pre><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(foo | bar, {&#34;foo&#34;: {&#34;bar&#34;: &#34;baz&#34;}}) -&gt; &#34;baz&#34;
search(foo[*].bar | [0], {
    &#34;foo&#34;: [{&#34;bar&#34;: [&#34;first1&#34;, &#34;second1&#34;]},
            {&#34;bar&#34;: [&#34;first2&#34;, &#34;second2&#34;]}]}) -&gt; [&#34;first1&#34;, &#34;second1&#34;]
search(foo | [0], {&#34;foo&#34;: [0, 1, 2]}) -&gt; [0]
</code></pre></div></section><section><h1 id=spec-or-expressions>Or Expressions</h1><pre>or-expression     = expression "||" expression
  </pre><div><p>An or expression will evaluate to either the left expression or the right expression. If the evaluation of the left
expression is not false it is used as the return value. If the evaluation of the right expression is not false it is
used as the return value. If neither the left or right expression are non-null, then a value of null is returned. A
false value corresponds to any of the following conditions:</p><ul><li>Empty list: []</li><li>Empty object: {}</li><li>Empty string: ""</li><li>False boolean: false</li><li>Null value: null</li></ul><p>A true value corresponds to any value that is not false.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(foo || bar, {&#34;foo&#34;: &#34;foo-value&#34;}) -&gt; &#34;foo-value&#34;
search(foo || bar, {&#34;bar&#34;: &#34;bar-value&#34;}) -&gt; &#34;bar-value&#34;
search(foo || bar, {&#34;foo&#34;: &#34;foo-value&#34;, &#34;bar&#34;: &#34;bar-value&#34;}) -&gt; &#34;foo-value&#34;
search(foo || bar, {&#34;baz&#34;: &#34;baz-value&#34;}) -&gt; null
search(foo || bar || baz, {&#34;baz&#34;: &#34;baz-value&#34;}) -&gt; &#34;baz-value&#34;
search(override || mylist[-1], {&#34;mylist&#34;: [&#34;one&#34;, &#34;two&#34;]}) -&gt; &#34;two&#34;
search(override || mylist[-1], {&#34;mylist&#34;: [&#34;one&#34;, &#34;two&#34;], &#34;override&#34;: &#34;yes&#34;}) -&gt; &#34;yes&#34;
</code></pre></div></section><section><h1 id=spec-and-expressions>And Expressions</h1><pre>and-expression    = expression "&&" expression
  </pre><div><p>An and expression will evaluate to either the left expression or the right expression. If the expression on the left
hand side is a truth-like value, then the value on the right hand side is returned. Otherwise the result of the
expression on the left hand side is returned. This also reduces to the expected truth table:</p><p>Truth table for and expressions</p><table><thead><tr><th>LHS</th><th>RHS</th><th>Result</th></tr></thead><tbody><tr><td>True</td><td>True</td><td>True</td></tr><tr><td>True</td><td>False</td><td>False</td></tr><tr><td>False</td><td>True</td><td>False</td></tr><tr><td>False</td><td>False</td><td>False</td></tr></tbody></table><p>This is the standard truth table for a logical conjunction (AND).</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(True &amp;&amp; False, {&#34;True&#34;: true, &#34;False&#34;: false}) -&gt; false
search(Number &amp;&amp; EmptyList, {&#34;Number&#34;: 5, EmptyList: []}) -&gt; []
search(foo[?a == `1` &amp;&amp; b == `2`],
       {&#34;foo&#34;: [{&#34;a&#34;: 1, &#34;b&#34;: 2}, {&#34;a&#34;: 1, &#34;b&#34;: 3}]}) -&gt; [{&#34;a&#34;: 1, &#34;b&#34;: 2}]
</code></pre></div></section><section><h1 id=spec-not-expressions>Not Expressions</h1><pre>not-expression    = "!" expression
  </pre><div><p>A not-expression negates the result of an expression. If the expression results in a truth-like value, a not-expression
will change this value to false. If the expression results in a false-like value, a not-expression will change this value
to true.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(!True, {&#34;True&#34;: true}) -&gt; false
search(!False, {&#34;False&#34;: false}) -&gt; true
search(!Number, {&#34;Number&#34;: 5}) -&gt; false
search(!EmptyList, {&#34;EmptyList&#34;: []}) -&gt; true
</code></pre></div></section><section><h1 id=spec-arithmetic-expressions>Arithmetic Expressions</h1><pre>arithmetic-expression =/ "+" expression ; + %x43
arithmetic-expression =/ ( "-" / "–" ) expression ; - %x45 – %x2212 \
arithmetic-expression = expression "%" expression ; % %x37 \
arithmetic-expression =/ expression ( "*" / "×" ) expression ; * %x42 ×  %xD7 \
arithmetic-expression =/ expression "+" expression ; + %x43 \
arithmetic-expression =/ expression ( "-" / "–" ) expression ; - %x45 – %x2212 \
arithmetic-expression =/ expression ( "/" / "÷" ) expression ; / %x47 ÷ %F7 \
arithmetic-expression = expression "//" expression ; // %47 %47
  </pre><div><p>An <code>arithmetic-expression</code> enables simple computations using the four basic operations,
as well as the modulo and integer-division operations.</p><p>To support arithmetic operations, the following operators are available:</p><ul><li><code>+</code> addition operator</li><li><code>-</code> subtraction operator</li><li><code>*</code> multiplication operator</li><li><code>/</code> division operator</li><li><code>%</code> modulo operator</li><li><code>//</code> integer division operator</li></ul><p>Proper mathematical operators are also supported using the following UNICODE characters:</p><ul><li><code>–</code> (U+2212 MINUS SIGN)</li><li><code>÷</code> (U+00F7 DIVISION SIGN)</li><li><code>×</code> (U+00D7 MULTIPLY SIGN)</li></ul><p>Arithmetic operations adhere to the usual precedence rules, from lowest to highest:</p><ul><li><code>-</code> subtraction operator and <code>+</code> addition operator</li><li><code>/</code> division, <code>*</code> multiplication, <code>%</code> modulo and <code>//</code> integer division operators</li></ul><p>In the absence of parentheses, operators of the same level of precedence are evaluated from left to right.
Arithmetic operators have higher precedence than comparison operators and lower precedence than the <code>.</code> &ldquo;dot&rdquo; <code>sub-expression</code> token separator.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(a + b, {&#34;a&#34;: 1, &#34;b&#34;: 2}) -&gt; 3
search(a - b, {&#34;a&#34;: 1, &#34;b&#34;: 2}) -&gt; -1
search(a * b, {&#34;a&#34;: 2, &#34;b&#34;: 4}) -&gt; 8
search(a / b, {&#34;a&#34;: 2, &#34;b&#34;: 3}) -&gt; 0.666666666666667
search(a % b, {&#34;a&#34;: 10, &#34;b&#34;: 3} -&gt; 1
search(a // b, {&#34;a&#34;: 10, &#34;b&#34;: 3} -&gt; -3
search(a.b + cd, {&#34;a&#34;: {&#34;b&#34;: 1}, &#34;c&#34;: {&#34;d&#34;: 2}}) -&gt; 3
</code></pre><p>Since <code>arithmetic-expression</code> is not valid on the right-hand-side of a <code>sub-expression</code>, a <code>pipe-expression</code> can be used instead:</p><pre tabindex=0><code>search({ab: a.b, cd: c.d} | ab + cd, {&#34;a&#34;: {&#34;b&#34;: 1}, &#34;c&#34;: {&#34;d&#34;: 2}}) -&gt; 3
</code></pre></div></section><section><h1 id=spec-parenthetical-expressions>Parenthetical Expressions</h1><pre>paren-expression  = "(" expression ")"
  </pre><div><p>A paren-expression allows a user to override the precedence order of an expression, e.g. (a || b) && c.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(foo[?(a == `1` || b ==`2`) &amp;&amp; c == `5`],
       {&#34;foo&#34;: [{&#34;a&#34;: 1, &#34;b&#34;: 2, &#34;c&#34;: 3}, {&#34;a&#34;: 3, &#34;b&#34;: 4}]}) -&gt; []
</code></pre></div></section><section><h1 id=spec-index-expressions>Index Expressions</h1><pre>index-expression  = expression bracket-specifier / bracket-specifier
bracket-specifier = "[" (number / slice-expression) "]"
  </pre><div><p>An index expression is used to access elements in a list. Indexing is 0 based, the index of 0 refers to the first
element of the list. A negative number is a valid index. A negative number indicates that indexing is relative to the
end of the list, specifically:</p><pre tabindex=0><code>negative-index == (length of array) + negative-index
</code></pre><p>Given an array of length N, an index of -1 would be equal to a positive index of N - 1, which is the last element of
the list. If an index expression refers to an index that is greater than the length of the array, a value of null is returned.</p><p>For the grammar rule expression bracket-specifier the expression is first evaluated, and then return value from the
expression is given as input to the bracket-specifier.</p><p>Using a &ldquo;*&rdquo; character within a bracket-specifier is discussed below in the wildcard expressions section.</p></div></section><section><h2 id=spec-flatten-operator>Flatten Operator</h2><pre>bracket-specifier =/ "[]"
  </pre><div><p>When the character sequence [] is provided as a bracket specifier, then a flattening operation occurs on the current
result. The flattening operator will merge sublists in the current result into a single list. The flattening operator
has the following semantics:</p><ul><li>Create an empty result list.</li><li>Iterate over the elements of the current result.</li><li>If the current element is not a list, add to the end of the result list.</li><li>If the current element is a list, add each element of the current element to the end of the result list.</li><li>The result list is now the new current result.</li></ul><p>Once the flattening operation has been performed, subsequent operations are projected onto the flattened list with the
same semantics as a wildcard expression. Thus the difference between [*] and [] is that [] will first flatten sublists
in the current result.</p><h3 id=spec-examples>Examples</h3><pre tabindex=0><code>search([0], [&#34;first&#34;, &#34;second&#34;, &#34;third&#34;]) -&gt; &#34;first&#34;
search([-1], [&#34;first&#34;, &#34;second&#34;, &#34;third&#34;]) -&gt; &#34;third&#34;
search([100], [&#34;first&#34;, &#34;second&#34;, &#34;third&#34;]) -&gt; null
search(foo[0], {&#34;foo&#34;: [&#34;first&#34;, &#34;second&#34;, &#34;third&#34;]) -&gt; &#34;first&#34;
search(foo[100], {&#34;foo&#34;: [&#34;first&#34;, &#34;second&#34;, &#34;third&#34;]) -&gt; null
search(foo[0][0], {&#34;foo&#34;: [[0, 1], [1, 2]]}) -&gt; 0
</code></pre></div></section><section><h2 id=spec-slices>Slices</h2><pre>slice-expression  = [number] ":" [number] [ ":" [number] ]
  </pre><div><p>A slice expression allows you to select a subset of an array or a string. A slice has a <code>start</code>, <code>stop</code>, and <code>step</code> value. The
general form of a slice is <code>[start:stop:step]</code>, but each component is optional and can be omitted.</p><aside class=note>Slices in JMESPath have the same semantics as python slices. If you&rsquo;re familiar with python slices, you&rsquo;re familiar with
JMESPath slices.</aside><p>Given a <code>start</code>, <code>stop</code>, and <code>step</code> value, the sub elements in an array or characters in a string are extracted as follows:</p><ul><li>The first element in the extracted array or first character in the extracted string is the index denoted by <code>start</code>.</li><li>The last element in the extracted array or last character in the extracted string is the index denoted by <code>end - 1</code>.</li><li>The <code>step</code> value determines how many indices to skip after each element is selected from the array or each character is selected from the string.
The default <code>step</code> value of <code>1</code> will not skip any indices and will return a contiguous subset of the original array or a substring of the original string.
A <code>step</code> value greater than <code>1</code> will skip indices while extracting elements from an array or characters from a string. For instance, a <code>step</code> value of <code>2</code> will
skip every other element or character.
Negative <code>step</code> values start from the end of the array or string and extract elements or characters in reverse order.</li></ul><p>Slice expressions adhere to the following rules:</p><ul><li>If a negative <code>start</code> position is given, it is calculated as the total length of the array or string plus the given <code>start</code> position.</li><li>If no <code>start</code> position is given, it is assumed to be <code>0</code> if the given <code>step</code> is greater than 0 or the end of the array or string if
the given <code>step</code> is less than <code>0</code>.</li><li>If a negative <code>stop</code> position is given, it is calculated as the total length of the array or string plus the given <code>stop</code> position.</li><li>If no <code>stop</code> position is given, it is assumed to be the length of the array or string if the given <code>step</code> is greater than <code>0</code> or <code>0</code> if
the given <code>step</code> is less than <code>0</code>.</li><li>If the given <code>step</code> is omitted, it it assumed to be <code>1</code>.</li><li>If the given <code>step</code> is <code>0</code>, an <code>invalid-value</code> error MUST be raised.</li><li>If the element being sliced is not an array or a string, the result is <code>null</code>.</li><li>If the element being sliced is an array or string and yields no results, the result MUST be an empty array.</li></ul><h3 id=spec-examples>Examples</h3><pre tabindex=0><code>search([0:4:1], [0, 1, 2, 3]) -&gt; [0, 1, 2, 3]
search([0:4], [0, 1, 2, 3]) -&gt; [0, 1, 2, 3]
search([0:3], [0, 1, 2, 3]) -&gt; [0, 1, 2]
search([:2], [0, 1, 2, 3]) -&gt; [0, 1]
search([::2], [0, 1, 2, 3]) -&gt; [0, 2]
search([::-1], [0, 1, 2, 3]) -&gt; [3, 2, 1, 0]
search([-2:], [0, 1, 2, 3]) -&gt; [2, 3]
</code></pre><p>Slicing operates on strings exactly as if a string were thought of as an array of characters.</p><pre tabindex=0><code>search(foo[0:4], {&#34;foo&#34;: &#34;hello, world!&#34;}) -&gt; &#34;hell&#34;
search([::], &#39;raw-string&#39;) -&gt; &#34;raw-string&#34;
search([::2], &#39;raw-string&#39;) -&gt; &#34;rwsrn&#34;
search([::-1], &#39;raw-string&#39;) -&gt; &#34;gnirts-war&#34;
</code></pre></div></section><section><h1 id=spec-multiselect-list>MultiSelect List</h1><pre>multi-select-list = "[" ( expression *( "," expression ) ) "]"
  </pre><div><p>A multiselect expression is used to extract a subset of elements from a JSON hash. There are two version of multiselect,
one in which the multiselect expression is enclosed in <code>{...}</code> and one which is enclosed in <code>[...]</code>. This section describes
the <code>[...]</code> version. Within the start and closing characters is one or more non expressions separated by a comma. Each
expression will be evaluated against the JSON document. Each returned element will be the result of evaluating the
expression. A multi-select-list with N expressions will result in a list of length N. Given a multiselect expression
<code>[expr-1,expr-2,...,expr-n]</code>, the evaluated expression will return <code>[evaluate(expr-1), evaluate(expr-2), ..., evaluate(expr-n)]</code>.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search([foo,bar], {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: &#34;b&#34;, &#34;baz&#34;: &#34;c&#34;}) -&gt; [&#34;a&#34;, &#34;b&#34;]
search([foo,bar[0]], {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: [&#34;b&#34;], &#34;baz&#34;: &#34;c&#34;}) -&gt; [&#34;a&#34;, &#34;b&#34;]
search([foo,bar.baz], {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: {&#34;baz&#34;: &#34;b&#34;}}) -&gt; [&#34;a&#34;, &#34;b&#34;]
search([foo,baz], {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: &#34;b&#34;}) -&gt; [&#34;a&#34;, null]
</code></pre></div></section><section><h1 id=spec-multiselect-hash>MultiSelect Hash</h1><pre>multi-select-hash = "{" ( keyval-expr *( "," keyval-expr ) ) "}"
keyval-expr       = identifier ":" expression
  </pre><div><p>A multi-select-hash expression is similar to a multi-select-list expression, except that a hash is created instead of a
list. A multi-select-hash expression also requires key names to be provided, as specified in the keyval-expr rule.
Given the following rule:</p><pre tabindex=0><code>keyval-expr       = identifier &#34;:&#34; expression
</code></pre><p>The identifier is used as the key name and the result of evaluating the expression is the value associated with the identifier key.</p><p>Each keyval-expr within the multi-select-hash will correspond to a single key value pair in the created hash.</p><h2 id=spec-examples>Examples</h2><p>Given a multi-select-hash expression <code>{foo: one.two, bar: bar}</code> and the data <code>{"bar": "bar", {"one": {"two": "one-two"}}}</code>,
the expression is evaluated as follows:</p><ul><li>A hash is created: {}</li><li>A key foo is created whose value is the result of evaluating one.two against the provided JSON document: <code>{"foo": evaluate(one.two, &lt;data>)}</code></li><li>A key bar is created whose value is the result of evaluting the expression bar against the provided JSON document.</li></ul><p>The final result will be: <code>{"foo": "one-two", "bar": "bar"}</code>.</p><p>Additional examples:</p><pre tabindex=0><code>search({foo: foo, bar: bar}, {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: &#34;b&#34;, &#34;baz&#34;: &#34;c&#34;})
              -&gt; {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: &#34;b&#34;}
search({foo: foo, firstbar: bar[0]}, {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: [&#34;b&#34;]})
              -&gt; {&#34;foo&#34;: &#34;a&#34;, &#34;firstbar&#34;: &#34;b&#34;}
search({foo: foo, &#34;bar.baz&#34;: bar.baz}, {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: {&#34;baz&#34;: &#34;b&#34;}})
              -&gt; {&#34;foo&#34;: &#34;a&#34;, &#34;bar.baz&#34;: &#34;b&#34;}
search({foo: foo, baz: baz}, {&#34;foo&#34;: &#34;a&#34;, &#34;bar&#34;: &#34;b&#34;})
              -&gt; {&#34;foo&#34;: &#34;a&#34;, &#34;baz&#34;: null}
</code></pre></div></section><section><h1 id=spec-wildcard-expressions>Wildcard Expressions</h1><pre>expression        =/ "*"
bracket-specifier =/ "[" "*" "]"
  </pre><div><p>A wildcard expression is a expression of either <code>*</code> or <code>[*]</code>. A wildcard expression can return multiple elements, and the
remaining expressions are evaluated against each returned element from a wildcard expression. The <code>[*]</code> syntax applies to
a list type and the <code>*</code>syntax applies to a hash type.</p><p>The <code>[*]</code> syntax (referred to as a list wildcard expression) will return all the elements in a list. Any subsequent
expressions will be evaluated against each individual element. Given an expression <code>[*].child-expr</code>, and a list of N
elements, the evaluation of this expression would be <code>[child-expr(el-0), child-expr(el-2), ..., child-expr(el-N)]</code>.
This is referred to as a projection, and the child-expr expression is projected onto the elements of the resulting list.</p><p>Once a projection has been created, all subsequent expressions are projected onto the resulting list.</p><p>The * syntax (referred to as a hash wildcard expression) will return a list of the hash element&rsquo;s values. Any subsequent
expression will be evaluated against each individual element in the list (this is also referred to as a projection).</p><p>Note that if any subsequent expression after a wildcard expression returns a null value, it is omitted from the final
result list.</p><p>A list wildcard expression is only valid for the JSON array type. If a list wildcard expression is applied to any other
JSON type, a value of <code>null</code> is returned.</p><p>Similarly, a hash wildcard expression is only valid for the JSON object type. If a hash wildcard expression is applied
to any other JSON type, a value of null is returned. Note that JSON hashes are explicitly defined as unordered.
Therefore a hash wildcard expression can return the values associated with the hash in any order. Implementations
are not required to return the hash values in any specific order.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search([*].foo, [{&#34;foo&#34;: 1}, {&#34;foo&#34;: 2}, {&#34;foo&#34;: 3}]) -&gt; [1, 2, 3]
search([*].foo, [{&#34;foo&#34;: 1}, {&#34;foo&#34;: 2}, {&#34;bar&#34;: 3}]) -&gt; [1, 2]
search(&#39;*.foo&#39;, {&#34;a&#34;: {&#34;foo&#34;: 1}, &#34;b&#34;: {&#34;foo&#34;: 2}, &#34;c&#34;: {&#34;bar&#34;: 1}}) -&gt; [1, 2]
</code></pre></div></section><section><h1 id=spec-filter-expressions>Filter Expressions</h1><pre>filter-expression = "[?" expression "]"
bracket-specifier =/ filter-expression
comparator-expression = expression comparator expression
comparator        = "<" / "<=" / "==" / ">=" / ">" / "!="
  </pre><div><p>A filter expression provides a way to select JSON elements based on a comparison to another expression. A filter
expression is evaluated as follows: for each element in an array evaluate the expression against the element. If the
expression evaluates to a truth-like value, the item (in its entirety) is added to the result list. Otherwise it is
excluded from the result list. A filter expression is only defined for a JSON array. Attempting to evaluate a filter
expression against any other type will return <code>null</code>.</p><h2 id=spec-comparison-operators>Comparison Operators</h2><p>The following operations are supported:</p><ul><li>==, tests for equality.</li><li>!=, tests for inequality.</li><li>&lt;, less than.</li><li>&lt;=, less than or equal to.</li><li><blockquote><p>, greater than.</p></blockquote></li><li><blockquote><p>=, greater than or equal to.</p></blockquote></li></ul><p>The behavior of each operation is dependent on the type of each evaluated expression.</p><p>The comparison semantics for each operator are defined below based on the corresponding JSON type:</p><h2 id=spec-equality-operators>Equality Operators</h2><p>For <code>string</code>/<code>number</code>/<code>true</code>/<code>false</code>/<code>null</code> types, equality is an exact match. A string is equal to another string if
they they have the exact sequence of code points. The literal values <code>true</code>/<code>false</code>/<code>null</code> are only equal to their own literal
values. Two JSON objects are equal if they have the same set of keys and values (given two JSON objects x and y, for each
key value pair (i, j) in x, there exists an equivalent pair (i, j) in y). Two JSON arrays are equal if they have equal
elements in the same order (given two arrays x and y, for each i from 0 until length(x), x[i] == y[i]).</p><h2 id=spec-ordering-operators>Ordering Operators</h2><p>Ordering operators <code>></code>, <code>>=</code>, <code>&lt;</code>, <code>&lt;=</code> are only valid for numbers. Evaluating any other type with a comparison operator
will yield a <code>null</code> value, which will result in the element being excluded from the result list. For example, given:</p><pre tabindex=0><code>search(&#39;foo[?a&lt;b]&#39;, {&#34;foo&#34;: [{&#34;a&#34;: &#34;char&#34;, &#34;b&#34;: &#34;char&#34;},
                             {&#34;a&#34;: 2, &#34;b&#34;: 1},
                             {&#34;a&#34;: 1, &#34;b&#34;: 2}]})
</code></pre><p>The three elements in the foo list are evaluated against a &lt; b. The first element resolves to the comparison &ldquo;char&rdquo; &lt;
&ldquo;bar&rdquo;, and because these types are string, the expression results in null, so the first element is not included in the
result list. The second element resolves to 2 &lt; 1, which is false, so the second element is excluded from the result
list. The third expression resolves to 1 &lt; 2 which evaluates to true, so the third element is included in the list.
The final result of that expression is <code>[{"a": 1, "b": 2}]</code>.</p><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(foo[?bar==`10`], {&#34;foo&#34;: [{&#34;bar&#34;: 1}, {&#34;bar&#34;: 10}]}) -&gt; [{&#34;bar&#34;: 10}]
search([?bar==`10`], [{&#34;bar&#34;: 1}, {&#34;bar&#34;: 10}]}) -&gt; [{&#34;bar&#34;: 10}]
search(foo[?a==b], {&#34;foo&#34;: [{&#34;a&#34;: 1, &#34;b&#34;: 2}, {&#34;a&#34;: 2, &#34;b&#34;: 2}]}) -&gt; [{&#34;a&#34;: 2, &#34;b&#34;: 2}]
</code></pre></div></section><section><h1 id=spec-function-expressions>Function Expressions</h1><pre>function-expression = unquoted-string  ( no-args  / one-or-more-args )
no-args             = "(" ")"
one-or-more-args    = "(" ( function-arg *( "," function-arg ) ) ")"
function-arg        = expression / expression-type
current-node        = "@"
root-node           = "$"
expression-type     = "&" expression
  </pre><div><p>Functions allow users to easily transform and filter data in JMESPath expressions.</p><h2 id=spec-data-types>Data Types</h2><p>In order to support functions, a type system is needed. The JSON types are used:</p><ul><li>number (integers and double-precision floating-point format in JSON)</li><li>string (a sequence of Unicode <a href=https://unicode.org/glossary/#code_point target=_blank rel=noopener>code points</a>
. Note that a code point is distinct to a <a href=https://unicode.org/glossary/#code_unit target=_blank rel=noopener>code unit</a>
)</li><li>boolean (true or false)</li><li>array (an ordered, sequence of values)</li><li>object (an unordered collection of key value pairs)</li><li>null</li></ul><p>There is also an additional type that is not a JSON type that&rsquo;s used in JMESPath functions:</p><ul><li>expression (denoted by <code>&amp;expression</code>)</li></ul><h2 id=spec-current-node>current-node</h2><p>The <code>current-node</code> token can be used to represent the current node being evaluated. The current-node token is useful
for functions that require the current node being evaluated as an argument. For example, the following expression
creates an array containing the total number of elements in the foo object followed by the value of <code>foo["bar"]</code>.</p><pre tabindex=0><code>foo[].[count(@), bar]
</code></pre><p>JMESPath assumes that all function arguments operate on the current node unless the argument is a literal or number
token. Because of this, an expression such as @.bar would be equivalent to just bar, so the current node is only
allowed as a bare expression.</p><h3 id=spec-current-node-state>current-node state</h3><p>At the start of an expression, the value of the current node is the data being evaluated by the JMESPath expression.
As an expression is evaluated, the value the the current node represents MUST change to reflect the node currently
being evaluated. When in a projection, the current node value must be changed to the node currently being evaluated
by the projection.</p><h2 id=spec-root-node>root-node</h2><p>The <code>root-node</code> token can be used to represent the original input JSON document.</p><p>As a JMESPath expression is being evaluated, the current scope changes.
Given a simple sub expression such as <code>foo.bar</code>, first the <code>foo</code> expression is evaluated
with the starting input JSON document, and the result of that expression is then used as
the current scope when the <code>bar</code> element is evaluated.</p><p>Once we’ve drilled down to a specific scope, the <code>root-node</code> token can be used
to refer to the original JSON document.</p><h3 id=spec-example>Example</h3><p>Given a JSON document:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;first_choice&#34;</span>: <span style=color:#4070a0>&#34;WA&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;states&#34;</span>: [
</span></span><span style=display:flex><span>     {<span style=color:#062873;font-weight:700>&#34;name&#34;</span>: <span style=color:#4070a0>&#34;WA&#34;</span>, <span style=color:#062873;font-weight:700>&#34;cities&#34;</span>: [<span style=color:#4070a0>&#34;Seattle&#34;</span>, <span style=color:#4070a0>&#34;Bellevue&#34;</span>, <span style=color:#4070a0>&#34;Olympia&#34;</span>]},
</span></span><span style=display:flex><span>     {<span style=color:#062873;font-weight:700>&#34;name&#34;</span>: <span style=color:#4070a0>&#34;CA&#34;</span>, <span style=color:#062873;font-weight:700>&#34;cities&#34;</span>: [<span style=color:#4070a0>&#34;Los Angeles&#34;</span>, <span style=color:#4070a0>&#34;San Francisco&#34;</span>]},
</span></span><span style=display:flex><span>     {<span style=color:#062873;font-weight:700>&#34;name&#34;</span>: <span style=color:#4070a0>&#34;NY&#34;</span>, <span style=color:#062873;font-weight:700>&#34;cities&#34;</span>: [<span style=color:#4070a0>&#34;New York City&#34;</span>, <span style=color:#4070a0>&#34;Albany&#34;</span>]}
</span></span><span style=display:flex><span> ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We can retrieve the list of cities of the state corresponding to the <code>first_choice</code> key
using the following expression:</p><p><code>states[? name == $.first_choice ].cities[]</code></p></div></section><section><h1 id=spec-let-expressions>Let Expressions</h1><pre>let-expression = "let" bindings "in" expression
bindings = variable-binding *( "," variable-binding ) \
variable-binding = variable-ref "=" expression \
variable-ref = "$" unquoted-string
  </pre><div><p>A <code>let-expression</code> introduces lexical scoping and lets you bind variables that are evaluated In
the context of a given lexical scope. This enables queries that can refer to elements defined
outside of their current element</p><h2 id=spec-examples-of-this-new-syntax>Examples of this new syntax:</h2><ul><li><code>let $foo = bar in {a: myvar, b: $foo}</code></li><li><code>let $foo = baz[0] in bar[? baz == $foo ] | [0]</code></li><li><code>let $a = b, $c = d in bar[*].[$a, $c, foo, bar]</code></li></ul><h1 id=spec-function-evaluation>Function Evaluation</h1><p>Functions are evaluated in applicative order. Each argument must be an expression, each argument expression must be
evaluated before evaluating the function. The function is then called with the evaluated function arguments. The result
of the <code>function-expression</code> is the result returned by the function call. If a <code>function-expression</code> is evaluated for a
function that does not exist, the JMESPath implementation must indicate to the caller that an <code>unknown-function</code> error
occurred. How and when this error is raised is implementation specific, but implementations should indicate to the caller
that this specific error occurred.</p><p>Functions can have a specific arity, a range of valid – minimum and maximum – number of arguments or be variadic with a
minimum number of arguments. If a function-expression is encountered where the arity does not match or the minimum number
of arguments for a variadic function is not provided, then implementations must indicate to the caller that an <code>invalid-arity</code>
error occurred. How and when this error is raised is implementation specific.</p><p>Each function signature declares the types of its input parameters. If any type constraints are not met, implementations
must indicate that an <code>invalid-type</code> error occurred.</p><p>In order to accommodate type constraints, functions are provided to convert types to other types (to_string, to_number)
which are defined below. No explicit type conversion happens unless a user specifically uses one of these type conversion
functions.</p><p>Function expressions are also allowed as the child element of a sub expression. This allows functions to be used with
projections, which can enable functions to be applied to every element in a projection. For example, given the input
data of <code>["1", "2", "3", "notanumber", true]</code>, the following expression can be used to convert (and filter) all elements
to numbers:</p><pre tabindex=0><code>search([].to_number(@), ``[&#34;1&#34;, &#34;2&#34;, &#34;3&#34;, &#34;notanumber&#34;, true]``) -&gt; [1, 2, 3]
</code></pre><p>This provides a simple mechanism to explicitly convert types when needed.</p></div></section><section><h1 id=spec-raw-string-literals>Raw String Literals</h1><pre>raw-string        = "'" *raw-string-char "'"
raw-string-char   = (%x00-26 / %x28-5B / %x5D-10FFFF) / preserved-escape / raw-string-escape
preserved-escape  = escape (%x00-26 / %x28-5B / %x5D-10FFFF)
raw-string-escape = escape ("'" / escape)
  </pre><div><p>A raw string is an expression that allows for a literal string value to be specified. The result of evaluating the raw
string literal expression is the literal string value. It is a simpler form of a literal expression that is special
cased for strings. For example, the following expressions both evaluate to the same value: &ldquo;foo&rdquo;:</p><pre tabindex=0><code>search(`&#34;foo&#34;`, &#34;&#34;) -&gt; &#34;foo&#34;
search(&#39;foo&#39;, &#34;&#34;) -&gt; &#34;foo&#34;
</code></pre><p>As you can see in the examples above, it is meant as a more succinct form of the common scenario of specifying a literal
string value.</p><p>In addition, it does not perform any of the additional processing that JSON strings supports including:</p><ul><li>Not expanding unicode escape sequences</li><li>Not expanding newline characters</li><li>Not expanding tab characters or any other escape sequences documented in RFC 4627 section 2.5.</li></ul><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(&#39;foo&#39;, &#34;&#34;) -&gt; &#34;foo&#34;
search(&#39; bar &#39;, &#34;&#34;) -&gt; &#34; bar &#34;
search(&#39;[baz]&#39;, &#34;&#34;) -&gt; &#34;[baz]&#34;
search(&#39;\u03bB&#39;, &#34;&#34;) -&gt; &#34;\\u03bB&#34;
search(&#39;foo␊bar&#39;, &#34;&#34;) -&gt; &#34;foo\nbar&#34;
search(&#39;foo\␊bar&#39;, &#34;&#34;) -&gt; &#34;foo\\\nbar&#34;
search(&#39;\\&#39;, &#34;&#34;) -&gt; &#34;\\&#34;
</code></pre></div></section><section><h1 id=spec-literal-expressions>Literal Expressions</h1><pre>literal           = "`" json-text "`"
  </pre><div><p>A literal expression is an expression that allows arbitrary JSON objects to be specified. This is useful in filter
expressions as well as multi select hashes (to create arbitrary key value pairs), but is allowed anywhere an expression
is allowed. The specification includes the ABNF for JSON, implementations should use an existing JSON parser to parse
literal values. Note that the ` character must now be escaped in a json-value which means implementations need to
handle this case before passing the resulting string to a JSON parser.</p><aside class=note><p>When <a href=https://github.com/jmespath-community/jmespath.spec/blob/main/jep-012-raw-string-literals.md target=_blank rel=noopener>JEP-12</a>
introduced raw string literals, a legacy behavior in which backtick literals
containing invalid JSON text would be interpreted as if their contents were wrapped
in double quotes (e.g., <code>`foo` == `"foo"`</code>) was deprecated but implementations
were allowed to continue supporting it.</p><p>In this version of the specification, that behavior has been fully removed.</p></aside><h2 id=spec-examples>Examples</h2><pre tabindex=0><code>search(`&#34;foo&#34;`, &#34;anything&#34;) -&gt; &#34;foo&#34;
search(`&#34;foo\`bar&#34;`, &#34;anything&#34;) -&gt; &#34;foo`bar&#34;
search(`[1, 2]`, &#34;anything&#34;) -&gt; [1, 2]
search(`true`, &#34;anything&#34;) -&gt; true
search(`{&#34;a&#34;: &#34;b&#34;}`.a, &#34;anything&#34;) -&gt; &#34;b&#34;
search({first: a, type: `&#34;mytype&#34;`}, {&#34;a&#34;: &#34;b&#34;, &#34;c&#34;: &#34;d&#34;}) -&gt; {&#34;first&#34;: &#34;b&#34;, &#34;type&#34;: &#34;mytype&#34;}
</code></pre></div></section><section><h1 id=spec-identifiers>Identifiers</h1><pre>identifier        = unquoted-string / quoted-string
  </pre><div><p>An identifier is the most basic expression and can be used to extract a single element from a JSON document.
The return value for an identifier is the value associated with the identifier. If the identifier does not exist in the
JSON document, than a null value is returned.
From the grammar rule listed above identifiers can be one or more characters, and must start with A-Za-z_.
An identifier can also be quoted. This is necessary when an identifier has characters not specified in the
unquoted-string grammar rule. In this situation, an identifier is specified with a double quote, followed by any number
of unescaped-char or escaped-char characters, followed by a double quote. The quoted-string rule is the same grammar
rule as a JSON string, so any valid string can be used between double quoted, include JSON supported escape sequences,
and six character unicode escape sequences.
Note that any identifier that does not start with A-Za-z_ must be quoted.</p><h2 id=spec-examples>Examples:</h2><pre tabindex=0><code>search(foo, {&#34;foo&#34;: &#34;value&#34;}) -&gt; &#34;value&#34;
search(bar, {&#34;foo&#34;: &#34;value&#34;}) -&gt; null
search(foo, {&#34;foo&#34;: [0, 1, 2]}) -&gt; [0, 1, 2]
search(&#34;with space&#34;, {&#34;with space&#34;: &#34;value&#34;}) -&gt; &#34;value&#34;
search(&#34;special chars: !@#&#34;, {&#34;special chars: !@#&#34;: &#34;value&#34;}) -&gt; &#34;value&#34;
search(&#34;quote\&#34;char&#34;, {&#34;quote\&#34;char&#34;: &#34;value&#34;}) -&gt; &#34;value&#34;
search(&#34;\u2713&#34;, {&#34;\u2713&#34;: &#34;value&#34;}) -&gt; &#34;value&#34;
</code></pre></div></section><section></section></article><article id=functions><h1>Built-in Functions</h1><nav><ul><li><a href=#func-abs>abs</a></li><li><a href=#func-avg>avg</a></li><li><a href=#func-ceil>ceil</a></li><li><a href=#func-contains>contains</a></li><li><a href=#func-ends_with>ends_with</a></li><li><a href=#func-find_first>find_first</a></li><li><a href=#func-find_last>find_last</a></li><li><a href=#func-floor>floor</a></li><li><a href=#func-from_items>from_items</a></li><li><a href=#func-group_by>group_by</a></li><li><a href=#func-items>items</a></li><li><a href=#func-join>join</a></li><li><a href=#func-keys>keys</a></li><li><a href=#func-length>length</a></li><li><a href=#func-lower>lower</a></li><li><a href=#func-map>map</a></li><li><a href=#func-max>max</a></li><li><a href=#func-max_by>max_by</a></li><li><a href=#func-merge>merge</a></li><li><a href=#func-min>min</a></li><li><a href=#func-min_by>min_by</a></li><li><a href=#func-not_null>not_null</a></li><li><a href=#func-pad_left>pad_left</a></li><li><a href=#func-pad_right>pad_right</a></li><li><a href=#func-replace>replace</a></li><li><a href=#func-reverse>reverse</a></li><li><a href=#func-sort>sort</a></li><li><a href=#func-sort_by>sort_by</a></li><li><a href=#func-split>split</a></li><li><a href=#func-starts_with>starts_with</a></li><li><a href=#func-sum>sum</a></li><li><a href=#func-to_array>to_array</a></li><li><a href=#func-to_number>to_number</a></li><li><a href=#func-to_string>to_string</a></li><li><a href=#func-trim>trim</a></li><li><a href=#func-trim_left>trim_left</a></li><li><a href=#func-trim_right>trim_right</a></li><li><a href=#func-type>type</a></li><li><a href=#func-upper>upper</a></li><li><a href=#func-values>values</a></li><li><a href=#func-zip>zip</a></li></ul></nav><dl><dt id=func-abs>abs</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>abs</span>
<span class=fargs><span class=fargtype>number</span> <span class=fargname>$value</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$value</td><td>required</td><td>number</td><td>positive or negative number</td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td>positive magnitude of input value</td></tr></tbody></table><div class=description><p>Returns the absolute value of the provided argument. The signature indicates
that a number is returned, and that the input argument <code>$value</code> <strong>must</strong>
resolve to a number, otherwise an <code>invalid-type</code> error is triggered.</p><p>Below is a worked example. Given:</p><pre tabindex=0><code>{&#34;foo&#34;: -1, &#34;bar&#34;: &#34;2&#34;}
</code></pre><p>Evaluating <code>abs(foo)</code> works as follows:</p><ol><li>Evaluate the input argument against the current data:</li></ol><pre tabindex=0><code>search(foo, {&#34;foo&#34;: -1, &#34;bar&#34;: &#34;2&#34;}) -&gt; -1
</code></pre><ol start=2><li><p>Validate the type of the resolved argument. In this case
<code>-1</code> is of type <code>number</code> so it passes the type check.</p></li><li><p>Call the function with the resolved argument:</p></li></ol><pre tabindex=0><code>abs(-1) -&gt; 1
</code></pre><ol start=4><li>The value of <code>1</code> is the resolved value of the function expression
<code>abs(foo)</code>.</li></ol><p>Below is the same steps for evaluating <code>abs(bar)</code>:</p><ol><li>Evaluate the input argument against the current data:</li></ol><pre tabindex=0><code>search(bar, {&#34;foo&#34;: -1, &#34;bar&#34;: &#34;2&#34;}) -&gt; &#34;2&#34;
</code></pre><ol start=2><li>Validate the type of the resolved argument. In this case
<code>"2"</code> is of type <code>string</code> so we immediately indicate that
an <code>invalid-type</code> error occurred.</li></ol><p>As a final example, here is the steps for evaluating <code>abs(to_number(bar))</code>:</p><ol><li>Evaluate the input argument against the current data:</li></ol><pre tabindex=0><code>search(to_number(bar), {&#34;foo&#34;: -1, &#34;bar&#34;: &#34;2&#34;})
</code></pre><ol start=2><li>In order to evaluate the above expression, we need to evaluate
<code>to_number(bar)</code>:</li></ol><pre tabindex=0><code>search(bar, {&#34;foo&#34;: -1, &#34;bar&#34;: &#34;2&#34;}) -&gt; &#34;2&#34;
# Validate &#34;2&#34; passes the type check for to_number, which it does.
to_number(&#34;2&#34;) -&gt; 2
</code></pre><p>Note that to_number is defined below.</p><ol start=3><li>Now we can evaluate the original expression:</li></ol><pre tabindex=0><code>search(to_number(bar), {&#34;foo&#34;: -1, &#34;bar&#34;: &#34;2&#34;}) -&gt; 2
</code></pre><ol start=4><li>Call the function with the final resolved value:</li></ol><pre tabindex=0><code>abs(2) -&gt; 2
</code></pre><ol start=5><li>The value of <code>2</code> is the resolved value of the function expression
<code>abs(to_number(bar))</code>.</li></ol></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>abs(1)</td><td>1</td></tr><tr><td>null</td><td>abs(abc)</td><td>null</td></tr><tr><td>null</td><td>abs(-1)</td><td>1</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs(str)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs(array[1])</td><td>3</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs()</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs(foo)</td><td>1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs(-24)</td><td>24</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs(false)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>abs(1, 2)</td><td>null</td></tr></tbody></table></dd><dt id=func-avg>avg</dt><dd><div class=fsig><span class=rettype>number|null</span>
<span class=fname>avg</span>
<span class=fargs><span class=fargtype>array[number]</span> <span class=fargname>$elements</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$elements</td><td>required</td><td>array[number]</td><td>array of numbers to calculate average from</td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number|null</td><td>average value of passed elements</td></tr></tbody></table><div class=description><p>Returns the average of the elements in the provided array.</p><p>An empty array will produce a return value of null.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>false</td><td>avg(@)</td><td>null</td></tr><tr><td>[false]</td><td>avg(@)</td><td>null</td></tr><tr><td>[10,15,20]</td><td>avg(@)</td><td>15</td></tr><tr><td>[10,false,20]</td><td>avg(@)</td><td>null</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(@)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(empty_list)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(array)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(abc)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(foo)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(numbers)</td><td>2.75</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>avg(strings)</td><td>null</td></tr></tbody></table></dd><dt id=func-ceil>ceil</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>ceil</span>
<span class=fargs><span class=fargtype>number</span> <span class=fargname>$value</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$value</td><td>required</td><td>number</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description>Returns the next highest integer value by rounding up if necessary.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>ceil(1.9)</td><td>2</td></tr><tr><td>null</td><td>ceil(1)</td><td>1</td></tr><tr><td>null</td><td>ceil(abc)</td><td>null</td></tr><tr><td>null</td><td>ceil(1.001)</td><td>2</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ceil(decimals[2])</td><td>-1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ceil(1.2)</td><td>2</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ceil(decimals[0])</td><td>2</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ceil('string')</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ceil(decimals[1])</td><td>2</td></tr></tbody></table></dd><dt id=func-contains>contains</dt><dd><div class=fsig><span class=rettype>boolean</span>
<span class=fname>contains</span>
<span class=fargs><span class=fargtype>array|string</span> <span class=fargname>$subject</span><span class=fargtype>any</span> <span class=fargname>$search</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>array|string</td><td></td></tr><tr><td>$search</td><td>required</td><td>any</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>boolean</td><td></td></tr></tbody></table><div class=description><p>Returns <code>true</code> if the given <code>$subject</code> contains the provided <code>$search</code>
value.</p><p>If <code>$subject</code> is an array, this function returns true if one of the elements
in the array is equal to the provided <code>$search</code> value.</p><p>If the provided <code>$subject</code> is a string, this function returns true if
there exists within the <code>$subject</code> string at least one occurrence
of an equal <code>$search</code> string. If the <code>$search</code> value is not a string,
the function MUST return <code>false</code>.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>contains(false, 'bar')</td><td>null</td></tr><tr><td>null</td><td>contains('foobar', 'foo')</td><td>true</td></tr><tr><td>null</td><td>contains('foobar', 'bar')</td><td>true</td></tr><tr><td>null</td><td>contains('foobar', 'not')</td><td>false</td></tr><tr><td>null</td><td>contains('foobar', '123')</td><td>false</td></tr><tr><td>["a"]</td><td>contains(@, 'a')</td><td>true</td></tr><tr><td>["a"]</td><td>contains(@, 'b')</td><td>false</td></tr><tr><td>["foo","bar"]</td><td>contains(@, 'b')</td><td>false</td></tr><tr><td>["foo","bar"]</td><td>contains(@, 'foo')</td><td>true</td></tr><tr><td>["a","b"]</td><td>contains(@, 'a')</td><td>true</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>contains('abc', 'a')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>contains('abc', 'd')</td><td>false</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>contains(decimals, false)</td><td>false</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>contains(decimals, 1.2)</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>contains(strings, 'a')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>contains(false, 'd')</td><td>null</td></tr></tbody></table></dd><dt id=func-ends_with>ends_with</dt><dd><div class=fsig><span class=rettype>boolean</span>
<span class=fname>ends_with</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$prefix</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td></td></tr><tr><td>$prefix</td><td>required</td><td>string</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>boolean</td><td></td></tr></tbody></table><div class=description>Returns <code>true</code> if the <code>$subject</code> ends with the <code>$prefix</code>, otherwise this
function returns <code>false</code>.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"foobarbaz"</td><td>ends_with(@, 'z')</td><td>true</td></tr><tr><td>"foobarbaz"</td><td>ends_with(@, 'baz')</td><td>true</td></tr><tr><td>"foobarbaz"</td><td>ends_with(@, 'foo')</td><td>false</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ends_with(str, 'tr')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ends_with(str, 'Str')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ends_with(str, 0)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ends_with(str, 'r')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ends_with(str, 'foo')</td><td>false</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>ends_with(str, 'SStr')</td><td>false</td></tr></tbody></table></dd><dt id=func-find_first>find_first</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>find_first</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$sub</span><span class=fargtype>number</span> <span class=fargname>$start</span>
<span class=fargtype>number</span> <span class=fargname>$end</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr><tr><td>$sub</td><td>required</td><td>string</td><td>Substring</td></tr></tbody><tbody class=optional><tr><td>$start</td><td>optional</td><td>number</td><td>Position in the subject string where searching should start.</td></tr><tr><td>$end</td><td>optional</td><td>number</td><td>Position in the subject string where searching should end.</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>find_first()</code> returns the zero-based index of the first occurence where the <code>sub</code> substring appears in <code>subject</code> or <code>null</code> if it does not appear.
If either the <code>$subject</code> or the <code>$sub</code> argument is an empty string, <code>find_first()</code> return <code>null</code>.</p><p>The <code>start</code> and <code>end</code> parameters are optional and allow restricting the range within <code>subject</code> in which <code>sub</code> must be found.</p><ul><li>If <code>start</code> is omitted, it defaults to <code>0</code> (which is the start of the <code>subject</code> string).</li><li>If <code>end</code> is omitted, it defaults to <code>length(subject) - 1</code> (which is is the end of the <code>subject</code> string).</li></ul><p>If not omitted, the <code>$start</code> and <code>$end</code> arguments are expected to be integers. Othewise, an error MUST be raised.</p><p>Contrary to similar functions found in most popular programming languages, the <code>find_first()</code> function does not return <code>-1</code> if no occurrence of the substring can be found. Instead, it returns <code>null</code> for consistency reasons with how JMESPath behaves.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"subject string"</td><td>find_first(@, string, `0`)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_first(@, s, `0`)</td><td>0</td></tr><tr><td>"subject string"</td><td>find_first(@, s, `1`)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_first(@, string)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_first(@, string, `0`, `14`)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_first(@, string, `0`, `13`)</td><td>null</td></tr><tr><td>"subject string"</td><td>find_first(@, string, `9`)</td><td>null</td></tr><tr><td>"subject string"</td><td>find_first(@, string, `-99`, `100`)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_first(@, string, `8`)</td><td>8</td></tr></tbody></table></dd><dt id=func-find_last>find_last</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>find_last</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$sub</span><span class=fargtype>number</span> <span class=fargname>$start</span>
<span class=fargtype>number</span> <span class=fargname>$end</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr><tr><td>$sub</td><td>required</td><td>string</td><td>Substring</td></tr></tbody><tbody class=optional><tr><td>$start</td><td>optional</td><td>number</td><td>Position in the subject string where searching should start.</td></tr><tr><td>$end</td><td>optional</td><td>number</td><td>Position in the subject string where searching should end.</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description><p>Given the <code>$subject</code> string, <code>find_last()</code> returns the zero-based index of the last occurence where the <code>$sub</code> substring appears in <code>$subject</code> or <code>null</code> if it does not appear. If either the <code>$subject</code> or the <code>$sub</code> argument is an empty string, <code>find_last()</code> returns <code>null</code>.</p><p>The <code>$start</code> and <code>$end</code> parameters are optional and allow restricting to the slice <code>[$start:$end]</code> the range within <code>$subject</code> in which <code>$sub</code> must be found.</p><ul><li>If <code>$start</code> is omitted, it defaults to <code>0</code> (which is the start of the <code>$subject</code> string).</li><li>If <code>$end</code> is omitted, it defaults to <code>length(subject)</code> (which is past the end of the <code>$subject</code> string).</li></ul><p>If not omitted, the <code>$start</code> or <code>$end</code> arguments are expected to be integers. Otherwise, an error MUST be raised.</p><p>Contrary to similar functions found in most popular programming languages, the <code>find_last()</code> function does not return <code>-1</code> if no occurrence of the substring can be found. Instead, it returns <code>null</code> for consistency reasons with how JMESPath behaves.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"subject string"</td><td>find_last(@, string)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_last(@, string, `8`)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_last(@, string, `8`, `9`)</td><td>null</td></tr><tr><td>"subject string"</td><td>find_last(@, string, `9`)</td><td>null</td></tr><tr><td>"subject string"</td><td>find_last(@, s, `1`)</td><td>8</td></tr><tr><td>"subject string"</td><td>find_last(@, s, `0`, `7`)</td><td>0</td></tr></tbody></table></dd><dt id=func-floor>floor</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>floor</span>
<span class=fargs><span class=fargtype>number</span> <span class=fargname>$value</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$value</td><td>required</td><td>number</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description>Returns the next lowest integer value by rounding down if necessary.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>floor(1.001)</td><td>1</td></tr><tr><td>null</td><td>floor(1.9)</td><td>1</td></tr><tr><td>null</td><td>floor(1)</td><td>1</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>floor(foo)</td><td>-1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>floor(str)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>floor(1.2)</td><td>1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>floor(string)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>floor(decimals[0])</td><td>1</td></tr></tbody></table></dd><dt id=func-from_items>from_items</dt><dd><div class=fsig><span class=rettype>object</span>
<span class=fname>from_items</span>
<span class=fargs><span class=fargtype>array[any]</span> <span class=fargname>$arg</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$arg</td><td>required</td><td>array[any]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>object</td><td></td></tr></tbody></table><div class=description>Returns an object from the provided array of key value pairs.
This function is the inversed of the <code>items()</code> function.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>[["one",1],["two",2]]</td><td>from_items(@)</td><td>{"one":1,"two":2}</td></tr><tr><td>[["one",1],["two",2],["one",3]]</td><td>from_items(@)</td><td>{"one":3,"two":2}</td></tr></tbody></table></dd><dt id=func-group_by>group_by</dt><dd><div class=fsig><span class=rettype>object</span>
<span class=fname>group_by</span>
<span class=fargs><span class=fargtype>array[object]</span> <span class=fargname>$elements</span><span class=fargtype>expression->string</span> <span class=fargname>$expr</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$elements</td><td>required</td><td>array[object]</td><td></td></tr><tr><td>$expr</td><td>required</td><td>expression->string</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>object</td><td></td></tr></tbody></table><div class=description><p>Groups an array of objects <code>$elements</code> using an expression <code>$expr</code> as the group key.
The <code>$expr</code> expression is applied to each element in the array <code>$elements</code> and the
resulting value is used as a group key.</p><p>The result is an object whose keys are the unique set of string keys and whose respective values are an array of objects array matching the group criteria.</p><p>Objects that do not match the group criteria are discarded from the output.
This includes objects for which applying the <code>$expr</code> expression evaluates to <code>null</code>.</p><p>If the result of applying the <code>$expr</code> expression against the current array element
results in type other than <code>string</code> or <code>null</code>, an <code>invalid-type</code> error MUST be raised.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"items":[{"spec":{"nodeName":"node_01","other":"values_01"}},{"spec":{"nodeName":"node_02","other":"values_02"}},{"spec":{"nodeName":"node_03","other":"values_03"}},{"spec":{"nodeName":"node_01","other":"values_04"}}]}</td><td>group_by(items, &nodeName)</td><td>{"nodeName":{"node_01":[{"spec":{"nodeName":"node_01","other":"values_01"}},{"spec":{"nodeName":"node_01","other":"values_04"}}],"node_02":[{"spec":{"nodeName":"node_02","other":"values_02"}}],"node_03":[{"spec":{"nodeName":"node_03","other":"values_03"}}]}}</td></tr><tr class=test><td>{"array":[{"b":true,"name":"one"},{"b":false,"name":"two"},{"b":false}]}</td><td>group_by(array, &name)</td><td>[{"age":10,"age_str":"10","bool":true,"name":3},{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":50,"age_str":"50","bool":false,"name":"d"}]</td></tr><tr class=test><td>{"array":[{"b":true,"name":"one"},{"b":false,"name":"two"},{"b":false}]}</td><td>group_by(array, &b)</td><td>null</td></tr></tbody></table></dd><dt id=func-items>items</dt><dd><div class=fsig><span class=rettype>array[any]</span>
<span class=fname>items</span>
<span class=fargs><span class=fargtype>object</span> <span class=fargname>$obj</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$obj</td><td>required</td><td>object</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array[any]</td><td></td></tr></tbody></table><div class=description><p>Returns an array of key-value pairs for the provided input object.
Each pair is a 2-item array with the first item being the key and
the second item being the value.
This function is the inversed of the <code>from_items()</code> function.</p><p>Note that because JSON hashes are inheritently unordered,
the key value pairs of the provided object $obj are inheritently unordered.
Implementations are not required to return values in any specific order.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>{"a":"first","b":"second"}</td><td>items(@)</td><td>[["a","first"],["b","second"]]</td></tr></tbody></table></dd><dt id=func-join>join</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>join</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$glue</span><span class=fargtype>array[string]</span> <span class=fargname>$stringsarray</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$glue</td><td>required</td><td>string</td><td></td></tr><tr><td>$stringsarray</td><td>required</td><td>array[string]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description>Returns all of the elements from the provided <code>$stringsarray</code> array joined
together using the <code>$glue</code> argument as a separator between each.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>[false]</td><td>join(', ', @)</td><td>null</td></tr><tr><td>["a","b"]</td><td>join(', ', @)</td><td>"a, b"</td></tr><tr><td>["a","b"]</td><td>join('', @)</td><td>"ab"</td></tr><tr><td>["a",false,"b"]</td><td>join(', ', @)</td><td>null</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join('|', decimals[].to_string(@))</td><td>"1.01|1.2|-1.5"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join(', ', )</td><td>"a, b"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join('|', strings)</td><td>"a|b|c"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join(', ', str)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join('|', decimals)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join(', ', strings)</td><td>"a, b, c"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join('|', empty_list)</td><td>""</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join(', ', )</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>join(2, strings)</td><td>null</td></tr></tbody></table></dd><dt id=func-keys>keys</dt><dd><div class=fsig><span class=rettype>array</span>
<span class=fname>keys</span>
<span class=fargs><span class=fargtype>object</span> <span class=fargname>$obj</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$obj</td><td>required</td><td>object</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array</td><td></td></tr></tbody></table><div class=description>Returns an array containing the keys of the provided object.
Note that because JSON hashes are inheritently unordered, the
keys associated with the provided object <code>obj</code> are inheritently
unordered. Implementations are not required to return keys in
any specific order.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>{}</td><td>keys(@)</td><td>[]</td></tr><tr><td>false</td><td>keys(@)</td><td>null</td></tr><tr><td>{"bar":"bam","foo":"baz"}</td><td>keys(@)</td><td>["foo","bar"]</td></tr><tr><td>["b","a","c"]</td><td>keys(@)</td><td>null</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>keys(foo)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>keys(strings)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>keys(false)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>keys(empty_hash)</td><td>[]</td></tr></tbody></table></dd><dt id=func-length>length</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>length</span>
<span class=fargs><span class=fargtype>string|array|object</span> <span class=fargname>$subject</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string|array|object</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description><p>Returns the length of the given argument using the following types rules:</p><ol><li><p>string: returns the number of code points in the string</p></li><li><p>array: returns the number of elements in the array</p></li><li><p>object: returns the number of key-value pairs in the object</p></li></ol></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>length(not_there)</td><td>null</td></tr><tr><td>[]</td><td>length(@)</td><td>0</td></tr><tr><td>null</td><td>length('abc')</td><td>3</td></tr><tr><td>{}</td><td>length(@)</td><td>0</td></tr><tr><td>{"baz":"bam","foo":"bar"}</td><td>length(@)</td><td>2</td></tr><tr><td>["a","b","c"]</td><td>length(@)</td><td>3</td></tr><tr><td>[1,2,3,4,5,6,7]</td><td>length(@)</td><td>7</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length('abc')</td><td>3</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length('')</td><td>0</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(str)</td><td>3</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(strings[0])</td><td>1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(objects)</td><td>2</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(false)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(@)</td><td>12</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length('✓foo')</td><td>4</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(foo)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>length(array)</td><td>6</td></tr></tbody></table></dd><dt id=func-lower>lower</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>lower</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description>Returns the lowercase subject string.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"STRING"</td><td>lower(@)</td><td>"string"</td></tr></tbody></table></dd><dt id=func-map>map</dt><dd><div class=fsig><span class=rettype>array[any]</span>
<span class=fname>map</span>
<span class=fargs><span class=fargtype>expression</span> <span class=fargname>$expr</span><span class=fargtype>array[any]</span> <span class=fargname>$elements</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$expr</td><td>required</td><td>expression</td><td></td></tr><tr><td>$elements</td><td>required</td><td>array[any]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array[any]</td><td></td></tr></tbody></table><div class=description><p>Apply the <code>expr</code> to every element in the <code>elements</code> array
and return the array of results. An <code>elements</code> of length
N will produce a return array of length N.</p><p>Unlike a projection, (<code>[\*].bar</code>), <code>map()</code> will include
the result of applying the <code>expr</code> for every element in the
<code>elements</code> array, even if the result if <code>null</code>.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[{"foo":{"bar":"yes1"}},{"foo":{"bar":"yes2"}},{"foo1":{"bar":false}}]}</td><td>map(&foo.bar.baz, array)</td><td>[null,null,null]</td></tr><tr class=test><td>{"array":[[1,2,3,[4]],[5,6,7,[8,9]]]}</td><td>map(&[], array)</td><td>[[1,2,3,4],[5,6,7,8,9]]</td></tr><tr class=test><td>{"array":[{"foo":{"bar":"yes1"}},{"foo":{"bar":"yes2"}},{"foo1":{"bar":false}}]}</td><td>map(&foo.bar, array)</td><td>["yes1","yes2",null]</td></tr><tr class=test><td>{"array":[{"foo":{"bar":"yes1"}},{"foo":{"bar":"yes2"}},{"foo1":{"bar":false}}]}</td><td>map(&foo1.bar, array)</td><td>[null,null,false]</td></tr><tr class=test><td>{"array":[{"foo":"a"},{"foo":"b"},{},[],{"foo":"f"}]}</td><td>map(&foo, array)</td><td>["a","b",null,null,"f"]</td></tr><tr class=test><td>{"empty":[],"people":[{"a":10,"b":1,"c":"z"},{"a":10,"b":2,"c":null},{"a":10,"b":3},{"a":10,"b":4,"c":"z"},{"a":10,"b":5,"c":null},{"a":10,"b":6},{"a":10,"b":7,"c":"z"},{"a":10,"b":8,"c":null},{"a":10,"b":9}]}</td><td>map(&a, badkey)</td><td>null</td></tr><tr class=test><td>[[1,2,3,[4]],[5,6,7,[8,9]]]</td><td>map(&[], @)</td><td>[[1,2,3,4],[5,6,7,8,9]]</td></tr><tr class=test><td>{"empty":[],"people":[{"a":10,"b":1,"c":"z"},{"a":10,"b":2,"c":null},{"a":10,"b":3},{"a":10,"b":4,"c":"z"},{"a":10,"b":5,"c":null},{"a":10,"b":6},{"a":10,"b":7,"c":"z"},{"a":10,"b":8,"c":null},{"a":10,"b":9}]}</td><td>map(&a, people)</td><td>[10,10,10,10,10,10,10,10,10]</td></tr><tr class=test><td>{"empty":[],"people":[{"a":10,"b":1,"c":"z"},{"a":10,"b":2,"c":null},{"a":10,"b":3},{"a":10,"b":4,"c":"z"},{"a":10,"b":5,"c":null},{"a":10,"b":6},{"a":10,"b":7,"c":"z"},{"a":10,"b":8,"c":null},{"a":10,"b":9}]}</td><td>map(&foo, empty)</td><td>[]</td></tr><tr class=test><td>{"empty":[],"people":[{"a":10,"b":1,"c":"z"},{"a":10,"b":2,"c":null},{"a":10,"b":3},{"a":10,"b":4,"c":"z"},{"a":10,"b":5,"c":null},{"a":10,"b":6},{"a":10,"b":7,"c":"z"},{"a":10,"b":8,"c":null},{"a":10,"b":9}]}</td><td>map(&c, people)</td><td>["z",null,null,"z",null,null,"z",null,null]</td></tr></tbody></table></dd><dt id=func-max>max</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>max</span>
<span class=fargs><span class=fargtype>array[number]|array[string]</span> <span class=fargname>$collection</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$collection</td><td>required</td><td>array[number]|array[string]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description><p>Returns the highest found number in the provided array argument.</p><p>An empty array will produce a return value of null.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>[10,15]</td><td>max(@)</td><td>15</td></tr><tr><td>["a","b"]</td><td>max(@)</td><td>"b"</td></tr><tr><td>["a",2,"b"]</td><td>max(@)</td><td>null</td></tr><tr><td>[10,false,20]</td><td>max(@)</td><td>null</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>max(strings)</td><td>"c"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>max(empty_list)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>max(decimals)</td><td>1.2</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>max(numbers)</td><td>5</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>max(abc)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>max(array)</td><td>null</td></tr></tbody></table></dd><dt id=func-max_by>max_by</dt><dd><div class=fsig><span class=rettype>any</span>
<span class=fname>max_by</span>
<span class=fargs><span class=fargtype>array</span> <span class=fargname>$elements</span><span class=fargtype>expression->number|expression->string</span> <span class=fargname>$expr</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$elements</td><td>required</td><td>array</td><td></td></tr><tr><td>$expr</td><td>required</td><td>expression->number|expression->string</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>any</td><td></td></tr></tbody></table><div class=description>Return the maximum element in an array using the expression <code>expr</code> as the
comparison key. The entire maximum element is returned.
Below are several examples using the <code>people</code> array (defined above) as the
given input.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, &to_number(age_str))</td><td>{"age":50,"age_str":"50","bool":false,"name":"d"}</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, &age_str)</td><td>null</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, age)</td><td>null</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, &age)</td><td>{"age":50,"age_str":"50","bool":false,"name":"d"}</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, &age_str)</td><td>{"age":50,"age_str":"50","bool":false,"name":"d"}</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, &bool)</td><td>null</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>max_by(people, &extra)</td><td>null</td></tr></tbody></table></dd><dt id=func-merge>merge</dt><dd><div class=fsig><span class=rettype>object</span>
<span class=fname>merge</span>
<span class=fargs><span class=fargtype>object</span> <span class=fargname>$argument</span><span class=fargtype>object</span> <span class=fargname>$..</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$argument</td><td>required</td><td>object</td><td></td></tr></tbody><tbody class=optional><tr><td>$..</td><td>optional</td><td>object</td><td></td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>object</td><td></td></tr></tbody></table><div class=description>Accepts 0 or more objects as arguments, and returns a single object
with subsequent objects merged. Each subsequent object’s key/value
pairs are added to the preceding object. This function is used
to combine multiple objects into one. You can think of this as
the first object being the base object, and each subsequent argument
being overrides that are applied to the base object.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>merge()</td><td>{"a":"b","c":"d"}</td></tr><tr><td>null</td><td>merge()</td><td>{"a":"override"}</td></tr><tr><td>null</td><td>merge()</td><td>{"a":"x","b":"override","c":"z"}</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>merge()</td><td>{"a":1,"b":2}</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>merge()</td><td>{"a":2}</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>merge()</td><td>{"a":2,"b":2,"c":3,"d":4}</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>merge(empty_hash)</td><td>{}</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>merge(empty_hash, empty_hash)</td><td>{}</td></tr></tbody></table></dd><dt id=func-min>min</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>min</span>
<span class=fargs><span class=fargtype>array[number]|array[string]</span> <span class=fargname>$collection</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$collection</td><td>required</td><td>array[number]|array[string]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description>Returns the lowest found number in the provided <code>$collection</code> argument.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>["a","b"]</td><td>min(@)</td><td>"a"</td></tr><tr><td>[10,15]</td><td>min(@)</td><td>10</td></tr><tr><td>["a",2,"b"]</td><td>min(@)</td><td>null</td></tr><tr><td>[10,false,20]</td><td>min(@)</td><td>null</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>min(decimals)</td><td>-1.5</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>min(abc)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>min(empty_list)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>min(strings)</td><td>"a"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>min(numbers)</td><td>-1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>min(array)</td><td>null</td></tr></tbody></table></dd><dt id=func-min_by>min_by</dt><dd><div class=fsig><span class=rettype>any</span>
<span class=fname>min_by</span>
<span class=fargs><span class=fargtype>array</span> <span class=fargname>$elements</span><span class=fargtype>expression->number|expression->string</span> <span class=fargname>$expr</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$elements</td><td>required</td><td>array</td><td></td></tr><tr><td>$expr</td><td>required</td><td>expression->number|expression->string</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>any</td><td></td></tr></tbody></table><div class=description>Return the minimum element in an array using the expression <code>expr</code> as the
comparison key. The entire maximum element is returned.
Below are several examples using the <code>people</code> array (defined above) as the
given input.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, &to_number(age_str))</td><td>{"age":10,"age_str":"10","bool":true,"name":3}</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, &age_str)</td><td>null</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, age)</td><td>null</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, &age)</td><td>{"age":10,"age_str":"10","bool":true,"name":3}</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, &age_str)</td><td>{"age":10,"age_str":"10","bool":true,"name":3}</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, &bool)</td><td>null</td></tr><tr class=test><td>{"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>min_by(people, &extra)</td><td>null</td></tr></tbody></table></dd><dt id=func-not_null>not_null</dt><dd><div class=fsig><span class=rettype>any</span>
<span class=fname>not_null</span>
<span class=fargs><span class=fargtype>any</span> <span class=fargname>$argument</span><span class=fargtype>any</span> <span class=fargname>$..</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$argument</td><td>required</td><td>any</td><td></td></tr></tbody><tbody class=optional><tr><td>$..</td><td>optional</td><td>any</td><td></td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>any</td><td></td></tr></tbody></table><div class=description>Returns the first argument that does not resolve to <code>null</code>. This function
accepts one or more arguments, and will evaluate them in order until a
non null argument is encounted. If all arguments values resolve to <code>null</code>,
then a value of <code>null</code> is returned.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>{"a":null,"b":null,"c":[],"d":"foo"}</td><td>not_null(a, b, , d, c)</td><td>"foo"</td></tr><tr><td>{"a":null,"b":null,"c":[],"d":"foo"}</td><td>not_null(a, b)</td><td>null</td></tr><tr><td>{"a":null,"b":null,"c":[],"d":"foo"}</td><td>not_null(no_exist, a, b, c, d)</td><td>[]</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>not_null(unknown_key, str)</td><td>"Str"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>not_null(unknown_key, foo.bar, empty_list, str)</td><td>[]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>not_null(unknown_key, null_key, empty_list, str)</td><td>[]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>not_null(all, expressions, are_null)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>not_null()</td><td>null</td></tr></tbody></table></dd><dt id=func-pad_left>pad_left</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>pad_left</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>number</span> <span class=fargname>$width</span><span class=fargtype>string</span> <span class=fargname>$pad</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr><tr><td>$width</td><td>required</td><td>number</td><td>Total width of the resulting string</td></tr></tbody><tbody class=optional><tr><td>$pad</td><td>optional</td><td>string</td><td>Pad character</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>pad_left()</code> adds characters to the beginning and returns a string of length at least <code>width</code>.</p><p>The <code>pad</code> optional string parameter specifies the padding character.
If omitted, it defaults to an ASCII space (U+0020).
If present, it MUST have length 1, otherwise an error MUST be raised.</p><p>If the <code>subject</code> string has length greater than or equal to <code>width</code>, it is returned unmodified.</p><p>If <code>$width</code> is not an integer, an error MUST be raised.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"string"</td><td>pad_left(@, `6`)</td><td>"string"</td></tr><tr><td>"string"</td><td>pad_left(@, `10`)</td><td>" string"</td></tr><tr><td>"string"</td><td>pad_left(@, `10`, -)</td><td>"----string"</td></tr><tr><td>"string"</td><td>pad_left(@, `0`)</td><td>"string"</td></tr></tbody></table></dd><dt id=func-pad_right>pad_right</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>pad_right</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>number</span> <span class=fargname>$width</span><span class=fargtype>string</span> <span class=fargname>$pad</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr><tr><td>$width</td><td>required</td><td>number</td><td>Total width of the resulting string</td></tr></tbody><tbody class=optional><tr><td>$pad</td><td>optional</td><td>string</td><td>Pad character</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>pad_right()</code> adds characters to the end and returns a string of length at least <code>width</code>.</p><p>The <code>pad</code> optional string parameter specifies the padding character.
If omitted, it defaults to an ASCII space (U+0020).
If present, it MUST have length 1, otherwise an error MUST be raised.</p><p>If the <code>subject</code> string has length greater than or equal to <code>width</code>, it is returned unmodified.</p><p>If <code>$width</code> is not an integer, an error MUST be raised.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"string"</td><td>pad_right(@, `10`)</td><td>"string "</td></tr><tr><td>"string"</td><td>pad_right(@, `10`, -)</td><td>"string----"</td></tr><tr><td>"string"</td><td>pad_right(@, `0`)</td><td>"string"</td></tr><tr><td>"string"</td><td>pad_right(@, `6`)</td><td>"string"</td></tr></tbody></table></dd><dt id=func-replace>replace</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>replace</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$old</span><span class=fargtype>string</span> <span class=fargname>$new</span><span class=fargtype>number</span> <span class=fargname>$count</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr><tr><td>$old</td><td>required</td><td>string</td><td>Text that must be replaced in the subject string</td></tr><tr><td>$new</td><td>required</td><td>string</td><td>Text used as a replacement</td></tr></tbody><tbody class=optional><tr><td>$count</td><td>optional</td><td>number</td><td>Number of replacements to perform</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>replace()</code> replaces ocurrences of the <code>old</code> substring with the <code>new</code> substring.</p><p>The <code>count</code> optional parameter specifies how many occurrences of the <code>old</code> substring in <code>subject</code> are to be replaced.
If this parameter is omitted, all occurrences are replaced. If <code>count</code> is not an integer or is negative,</p><p>The <code>replace()</code> function has no effect if <code>count</code> is <code>0</code>.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"aabaaabaaaab"</td><td>replace(@, 'aa', '-', `0`)</td><td>"aabaaabaaaab"</td></tr><tr><td>"aabaaabaaaab"</td><td>replace(@, 'aa', '-', `1`)</td><td>"-baaabaaaab"</td></tr><tr><td>"aabaaabaaaab"</td><td>replace(@, 'aa', '-', `2`)</td><td>"-b-abaaaab"</td></tr><tr><td>"aabaaabaaaab"</td><td>replace(@, 'aa', '-', `3`)</td><td>"-b-ab-aab"</td></tr><tr><td>"aabaaabaaaab"</td><td>replace(@, 'aa', '-')</td><td>"-b-ab--b"</td></tr></tbody></table></dd><dt id=func-reverse>reverse</dt><dd><div class=fsig><span class=rettype>array</span>
<span class=fname>reverse</span>
<span class=fargs><span class=fargtype>string|array</span> <span class=fargname>$argument</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$argument</td><td>required</td><td>string|array</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array</td><td></td></tr></tbody></table><div class=description>Reverses the order of the <code>$argument</code>.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>[]</td><td>reverse(@)</td><td>[]</td></tr><tr><td>"abcd"</td><td>reverse(@)</td><td>"dcba"</td></tr><tr><td>[0,1,2,3,4]</td><td>reverse(@)</td><td>[4,3,2,1,0]</td></tr><tr><td>["a","b","c",1,2,3]</td><td>reverse(@)</td><td>[3,2,1,"c","b","a"]</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>reverse('')</td><td>""</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>reverse(empty_list)</td><td>[]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>reverse('hello world')</td><td>"dlrow olleh"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>reverse(array)</td><td>["100","a",5,4,3,-1]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>reverse(numbers)</td><td>[5,4,3,-1]</td></tr></tbody></table></dd><dt id=func-sort>sort</dt><dd><div class=fsig><span class=rettype>array</span>
<span class=fname>sort</span>
<span class=fargs><span class=fargtype>array[number]|array[string]</span> <span class=fargname>$list</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$list</td><td>required</td><td>array[number]|array[string]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array</td><td></td></tr></tbody></table><div class=description><p>This function accepts an array <code>$list</code> argument and returns the sorted
elements of the <code>$list</code> as an array.</p><p>The array must be a list of strings or numbers. Sorting strings is based on
code points. Locale is not taken into account.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>false</td><td>sort(@)</td><td>null</td></tr><tr><td>{"a":1,"b":2}</td><td>sort(@)</td><td>null</td></tr><tr><td>[1,"a","c"]</td><td>sort(@)</td><td>[1,"a","c"]</td></tr><tr><td>[[],{},false]</td><td>sort(@)</td><td>[{},[],false]</td></tr><tr><td>["b","a","c"]</td><td>sort(@)</td><td>["a","b","c"]</td></tr><tr><td>[false,[],null]</td><td>sort(@)</td><td>[[],null,false]</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(values(objects))</td><td>["bar","baz"]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(abc)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(keys(objects))</td><td>["bar","foo"]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(numbers)</td><td>[-1,3,4,5]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(decimals)</td><td>[-1.5,1.01,1.2]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(strings)</td><td>["a","b","c"]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(empty_list)</td><td>[]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(@)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sort(array)</td><td>null</td></tr></tbody></table></dd><dt id=func-sort_by>sort_by</dt><dd><div class=fsig><span class=rettype>array</span>
<span class=fname>sort_by</span>
<span class=fargs><span class=fargtype>array</span> <span class=fargname>$elements</span><span class=fargtype>expression->number|expression->string</span> <span class=fargname>$expr</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$elements</td><td>required</td><td>array</td><td></td></tr><tr><td>$expr</td><td>required</td><td>expression->number|expression->string</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array</td><td></td></tr></tbody></table><div class=description><p>Sort an array using an expression <code>expr</code> as the sort key. For each element
in the array of <code>elements</code>, the <code>expr</code> expression is applied and the
resulting value is used as the key used when sorting the <code>elements</code>.</p><p>If the result of evaluating the <code>expr</code> against the current array element
results in type other than a <code>number</code> or a <code>string</code>, an <code>invalid-type</code> error will
occur.</p><p>Below are several examples using the <code>people</code> array (defined above) as the
given input. <code>sort_by</code> follows the same sorting logic as the <code>sort</code>
function.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"people":[{"age":10,"order":"1"},{"age":10,"order":"2"},{"age":10,"order":"3"},{"age":10,"order":"4"},{"age":10,"order":"5"},{"age":10,"order":"6"},{"age":10,"order":"7"},{"age":10,"order":"8"},{"age":10,"order":"9"},{"age":10,"order":"10"},{"age":10,"order":"11"}]}</td><td>sort_by(people, &age)</td><td>[{"age":10,"order":"1"},{"age":10,"order":"2"},{"age":10,"order":"3"},{"age":10,"order":"4"},{"age":10,"order":"5"},{"age":10,"order":"6"},{"age":10,"order":"7"},{"age":10,"order":"8"},{"age":10,"order":"9"},{"age":10,"order":"10"},{"age":10,"order":"11"}]</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, name)</td><td>null</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(empty_list, &age)</td><td>[]</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, &extra)</td><td>null</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, &age)</td><td>[{"age":10,"age_str":"10","bool":true,"name":3},{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":50,"age_str":"50","bool":false,"name":"d"}]</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, &bool)</td><td>null</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, &age_str)</td><td>[{"age":10,"age_str":"10","bool":true,"name":3},{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":50,"age_str":"50","bool":false,"name":"d"}]</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, &to_number(age_str))</td><td>[{"age":10,"age_str":"10","bool":true,"name":3},{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":50,"age_str":"50","bool":false,"name":"d"}]</td></tr><tr class=test><td>{"empty_list":[],"people":[{"age":20,"age_str":"20","bool":true,"extra":"foo","name":"a"},{"age":40,"age_str":"40","bool":false,"extra":"bar","name":"b"},{"age":30,"age_str":"30","bool":true,"name":"c"},{"age":50,"age_str":"50","bool":false,"name":"d"},{"age":10,"age_str":"10","bool":true,"name":3}]}</td><td>sort_by(people, &name)</td><td>null</td></tr></tbody></table></dd><dt id=func-split>split</dt><dd><div class=fsig><span class=rettype>array[string]</span>
<span class=fname>split</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$search</span><span class=fargtype>number</span> <span class=fargname>$count</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr><tr><td>$search</td><td>required</td><td>string</td><td>Text separator</td></tr></tbody><tbody class=optional><tr><td>$count</td><td>optional</td><td>number</td><td>Number of splits to perform</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array[string]</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>split()</code> breaks on ocurrences of the string <code>search</code> and returns an array.</p><p>The <code>split()</code> function returns an array containing each partial string between occurrences of <code>search</code>.
If <code>subject</code> contains no occurrences of the <code>search</code> text, an array containing just the original <code>subject</code>
string will be returned.</p><p>The <code>count</code> optional parameter specifies the maximum number of split points within the <code>search</code> string.
If this parameter is omitted, all occurrences are split. If <code>count</code> is not an integer or is negative,
an error MUST be raised.</p><p>If <code>count</code> is equal to <code>0</code>, <code>split()</code> returns an array containing a single element, the <code>subject</code> string.</p><p>Otherwise, the <code>split()</code> function breaks on occurrences of the <code>search</code> string up to <code>count</code> times. The
last string in the resulting array containing the remaining contents of the <code>subject</code> string unmodified.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"average|-|min|-|max|-|mean|-|median"</td><td>split(average|-|min|-|max|-|mean|-|median, '|-|', `3`)</td><td>["average","min","max","mean|-|median"]</td></tr><tr><td>"average|-|min|-|max|-|mean|-|median"</td><td>split(average|-|min|-|max|-|mean|-|median, '|-|', `2`)</td><td>["average","min","max|-|mean|-|median"]</td></tr><tr><td>"average|-|min|-|max|-|mean|-|median"</td><td>split(average|-|min|-|max|-|mean|-|median, '|-|', `1`)</td><td>["average","min|-|max|-|mean|-|median"]</td></tr><tr><td>"average|-|min|-|max|-|mean|-|median"</td><td>split(average|-|min|-|max|-|mean|-|median, '|-|', `0`)</td><td>["average|-|min|-|max|-|mean|-|median"]</td></tr><tr><td>"average|-|min|-|max|-|mean|-|median"</td><td>split(average|-|min|-|max|-|mean|-|median, '-')</td><td>["average|","|min|","|max|","|mean|","|median"]</td></tr><tr><td>null</td><td>split(all chars, )</td><td>["a","l","l"," ","c","h","a","r","s"]</td></tr><tr><td>null</td><td>split(/, /)</td><td>["",""]</td></tr><tr><td>"average|-|min|-|max|-|mean|-|median"</td><td>split(average|-|min|-|max|-|mean|-|median, '|-|')</td><td>["average","min","max","mean","median"]</td></tr></tbody></table></dd><dt id=func-starts_with>starts_with</dt><dd><div class=fsig><span class=rettype>boolean</span>
<span class=fname>starts_with</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$prefix</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td></td></tr><tr><td>$prefix</td><td>required</td><td>string</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>boolean</td><td></td></tr></tbody></table><div class=description>Returns <code>true</code> if the <code>$subject</code> starts with the <code>$prefix</code>, otherwise
this function returns <code>false</code>.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"foobarbaz"</td><td>starts_with(@, 'foo')</td><td>true</td></tr><tr><td>"foobarbaz"</td><td>starts_with(@, 'baz')</td><td>false</td></tr><tr><td>"foobarbaz"</td><td>starts_with(@, 'f')</td><td>true</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>starts_with(str, 'Str')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>starts_with(str, 'String')</td><td>false</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>starts_with(str, 0)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>starts_with(str, 'S')</td><td>true</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>starts_with(str, 'St')</td><td>true</td></tr></tbody></table></dd><dt id=func-sum>sum</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>sum</span>
<span class=fargs><span class=fargtype>array[number]</span> <span class=fargname>$collection</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$collection</td><td>required</td><td>array[number]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description><p>Returns the sum of the provided array argument.</p><p>An empty array will produce a return value of 0.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>[]</td><td>sum(@)</td><td>0</td></tr><tr><td>[10,15]</td><td>sum(@)</td><td>25</td></tr><tr><td>[10,false,20]</td><td>sum(@)</td><td>null</td></tr><tr><td>[10,false,20]</td><td>sum([].to_number(@))</td><td>30</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sum(array[].to_number(@))</td><td>111</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sum(array)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sum(numbers)</td><td>11</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sum(empty_list)</td><td>0</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>sum(decimals)</td><td>0.71</td></tr></tbody></table></dd><dt id=func-to_array>to_array</dt><dd><div class=fsig><span class=rettype>array</span>
<span class=fname>to_array</span>
<span class=fargs><span class=fargtype>any</span> <span class=fargname>$arg</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$arg</td><td>required</td><td>any</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array</td><td></td></tr></tbody></table><div class=description><ul><li>array - Returns the passed in value.</li><li>number/string/object/boolean/null - Returns a one element array containing
the passed in argument.</li></ul></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>to_array(true)</td><td>[true]</td></tr><tr><td>null</td><td>to_array()</td><td>[{"foo":"bar"}]</td></tr><tr><td>null</td><td>to_array(0)</td><td>[0]</td></tr><tr><td>null</td><td>to_array('string')</td><td>["string"]</td></tr><tr><td>null</td><td>to_array()</td><td>[1,2]</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_array('foo')</td><td>["foo"]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_array(0)</td><td>[0]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_array(objects)</td><td>[{"bar":"baz","foo":"bar"}]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_array()</td><td>[1,2,3]</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_array(false)</td><td>[false]</td></tr></tbody></table></dd><dt id=func-to_number>to_number</dt><dd><div class=fsig><span class=rettype>number</span>
<span class=fname>to_number</span>
<span class=fargs><span class=fargtype>any</span> <span class=fargname>$arg</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$arg</td><td>required</td><td>any</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>number</td><td></td></tr></tbody></table><div class=description><ul><li><p>string - Returns the parsed number. Any string that conforms to the
<code>json-number</code> production is supported. Note that the floating number
support will be implementation specific, but implementations should support
at least IEEE 754-2008 binary64 (double precision) numbers, as this is
generally available and widely used.</p></li><li><p>number - Returns the passed in value.</p></li><li><p>array - null</p></li><li><p>object - null</p></li><li><p>boolean - null</p></li><li><p>null - null</p></li></ul></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number()</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number()</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number()</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number('1.0')</td><td>1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number('1.1')</td><td>1.1</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number('4')</td><td>4</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number(notanumber)</td><td>null</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_number(false)</td><td>null</td></tr></tbody></table></dd><dt id=func-to_string>to_string</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>to_string</span>
<span class=fargs><span class=fargtype>any</span> <span class=fargname>$arg</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$arg</td><td>required</td><td>any</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><ul><li><p>string - Returns the passed in value.</p></li><li><p>number/array/object/boolean - The JSON encoded value of the object. The
JSON encoder should emit the encoded JSON value without adding any additional
new lines.</p></li></ul></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>to_string(2)</td><td>"2"</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_string('foo')</td><td>"foo"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_string(1.2)</td><td>"1.2"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>to_string()</td><td>"[0,1]"</td></tr></tbody></table></dd><dt id=func-trim>trim</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>trim</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$chars</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr></tbody><tbody class=optional><tr><td>$chars</td><td>optional</td><td>string</td><td>Set of characters to be removed</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>trim()</code> removes the leading and trailing characters found in <code>chars</code>.</p><p>The <code>chars</code> optional parameter represents a set of characters to be removed from the <code>subject</code> string.
If this parameter is not specified, or is an empty string, whitespace characters are removed from the
<code>subject</code> string.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>" subject string "</td><td>trim(@, 'gsu ')</td><td>"bject strin"</td></tr><tr><td>" subject string "</td><td>trim(@)</td><td>"subject string"</td></tr><tr><td>" subject string "</td><td>trim(@, '')</td><td>"subject string"</td></tr><tr><td>" subject string "</td><td>trim(@, ' ')</td><td>"subject string"</td></tr><tr><td>" subject string "</td><td>trim(@, 's')</td><td>" subject string "</td></tr><tr><td>" subject string "</td><td>trim(@, 'su')</td><td>" subject string "</td></tr><tr><td>" subject string "</td><td>trim(@, 'su ')</td><td>"bject string"</td></tr></tbody></table></dd><dt id=func-trim_left>trim_left</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>trim_left</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$chars</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr></tbody><tbody class=optional><tr><td>$chars</td><td>optional</td><td>string</td><td>Set of characters to be removed</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>trim_left()</code> removes the leading characters found in <code>chars</code>.</p><p>Like the <code>trim()</code> function, the <code>chars</code> optional string parameter represents a set of characters to be removed.
<code>trim_left()</code> defaults to removing whitespace characters if <code>chars</code> is not specified or is an empty string.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>" subject string "</td><td>trim_left(@)</td><td>"subject string "</td></tr><tr><td>" subject string "</td><td>trim_left(@, 's')</td><td>" subject string "</td></tr><tr><td>" subject string "</td><td>trim_left(@, 'su')</td><td>" subject string "</td></tr><tr><td>" subject string "</td><td>trim_left(@, 'su ')</td><td>"bject string "</td></tr><tr><td>" subject string "</td><td>trim_left(@, 'gsu ')</td><td>"bject string "</td></tr></tbody></table></dd><dt id=func-trim_right>trim_right</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>trim_right</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span><span class=fargtype>string</span> <span class=fargname>$chars</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr></tbody><tbody class=optional><tr><td>$chars</td><td>optional</td><td>string</td><td>Set of characters to be removed</td></tr></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Given the <code>subject</code> string, <code>trim_right()</code> removes the trailing characters found in <code>chars</code>.</p><p>Like the <code>trim()</code> function, the <code>chars</code> optional string parameter represents a set of characters to be removed.
<code>trim_right()</code> defaults to removing whitespace characters if <code>chars</code> is not specified or is an empty string.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>" subject string "</td><td>trim_right(@, 'gsu ')</td><td>" subject string"</td></tr><tr><td>" subject string "</td><td>trim_right(@)</td><td>"subject string "</td></tr><tr><td>" subject string "</td><td>trim_right(@, 's')</td><td>" subject string "</td></tr><tr><td>" subject string "</td><td>trim_right(@, 'su')</td><td>" subject string "</td></tr><tr><td>" subject string "</td><td>trim_right(@, 'su ')</td><td>" subject string"</td></tr></tbody></table></dd><dt id=func-type>type</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>type</span>
<span class=fargs><span class=fargtype>array|object|string|number|boolean|null</span> <span class=fargname>$subject</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>array|object|string|number|boolean|null</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description><p>Returns the JavaScript type of the given <code>$subject</code> argument as a string
value.</p><p>The return value MUST be one of the following:</p><ul><li>number</li><li>string</li><li>boolean</li><li>array</li><li>object</li><li>null</li></ul></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>false</td><td>type(@)</td><td>"boolean"</td></tr><tr><td>"foo"</td><td>type(@)</td><td>"string"</td></tr><tr><td>null</td><td>type(@)</td><td>"null"</td></tr><tr><td>["abc"]</td><td>type(@)</td><td>"array"</td></tr><tr><td>true</td><td>type(@)</td><td>"boolean"</td></tr><tr><td>{"abc":"123"}</td><td>type(@)</td><td>"object"</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type(false)</td><td>"boolean"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type(@)</td><td>"object"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type('abc')</td><td>"string"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type(1)</td><td>"number"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type(2)</td><td>"number"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type()</td><td>"null"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type()</td><td>"object"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type(true)</td><td>"boolean"</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>type()</td><td>"array"</td></tr><tr class=test><td>123</td><td>type(@)</td><td>"number"</td></tr><tr class=test><td>123.05</td><td>type(@)</td><td>"number"</td></tr></tbody></table></dd><dt id=func-upper>upper</dt><dd><div class=fsig><span class=rettype>string</span>
<span class=fname>upper</span>
<span class=fargs><span class=fargtype>string</span> <span class=fargname>$subject</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$subject</td><td>required</td><td>string</td><td>Subject string</td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>string</td><td></td></tr></tbody></table><div class=description>Returns the uppercase subject string.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>"string"</td><td>upper(@)</td><td>"STRING"</td></tr></tbody></table></dd><dt id=func-values>values</dt><dd><div class=fsig><span class=rettype>array</span>
<span class=fname>values</span>
<span class=fargs><span class=fargtype>object</span> <span class=fargname>$obj</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$obj</td><td>required</td><td>object</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array</td><td></td></tr></tbody></table><div class=description><p>Returns the values of the provided object.
Note that because JSON hashes are inheritently unordered, the
values associated with the provided object <code>obj</code> are inheritently
unordered. Implementations are not required to return values in
any specific order. For example, given the input:</p><pre tabindex=0><code>{&#34;a&#34;: &#34;first&#34;, &#34;b&#34;: &#34;second&#34;, &#34;c&#34;: &#34;third&#34;}
</code></pre><p>The expression <code>values(@)</code> could have any of these return values:</p><ul><li><p><code>["first", "second", "third"]</code></p></li><li><p><code>["first", "third", "second"]</code></p></li><li><p><code>["second", "first", "third"]</code></p></li><li><p><code>["second", "third", "first"]</code></p></li><li><p><code>["third", "first", "second"]</code></p></li><li><p><code>["third", "second", "first"]</code></p></li></ul><p>If you would like a specific order, consider using the
<code>sort</code> or <code>sort_by</code> functions.</p></div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>false</td><td>values(@)</td><td>null</td></tr><tr><td>{"bar":"bam","foo":"baz"}</td><td>values(@)</td><td>["baz","bam"]</td></tr><tr><td>["a","b"]</td><td>values(@)</td><td>null</td></tr><tr class=more onclick='event.currentTarget.parentElement.classList.toggle("showall")'><td colspan=3>Show more..</td></tr><tr class=test><td>{"array":[-1,3,4,5,"a","100"],"decimals":[1.01,1.2,-1.5],"empty_hash":{},"empty_list":[],"false":false,"foo":-1,"null_key":null,"numbers":[-1,3,4,5],"objects":{"bar":"baz","foo":"bar"},"str":"Str","strings":["a","b","c"],"zero":0}</td><td>values(foo)</td><td>null</td></tr></tbody></table></dd><dt id=func-zip>zip</dt><dd><div class=fsig><span class=rettype>array[array[any]]</span>
<span class=fname>zip</span>
<span class=fargs><span class=fargtype>array[any]</span> <span class=fargname>$arg</span></span></div><table class=args><caption>Arguments</caption><thead><tr><th>Name</th><th>Presence</th><th>Type</th><th>Description</th></tr></thead><tbody class=required><tr><td>$arg</td><td>required</td><td>array[any]</td><td></td></tr></tbody><tbody class=optional></tbody><tbody class=returns><tr><td>Returns</td><td></td><td>array[array[any]]</td><td></td></tr></tbody></table><div class=description>Accepts one or more arrays as arguments and returns an array of arrays
in which the <em>i-th</em> array contains the <em>i-th</em> element from each of the
argument arrays.
The returned array is truncated to the length of the shortest argument array.</div><table class=examples><caption>Examples</caption><thead><tr><th>Given</th><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td>null</td><td>zip()</td><td>[["a",1],["b",2]]</td></tr><tr><td>null</td><td>zip()</td><td>[["a",1],["b",2]]</td></tr></tbody></table></dd></dl></article></main><footer></footer></body></html>